<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>æ¥å£è‡ªåŠ¨åŒ–åŸºç¡€ä¹‹pytest | Sereincease's Blog</title><meta name="author" content="Sereincease"><meta name="copyright" content="Sereincease"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="ä¸€ã€æ¥å£è‡ªåŠ¨åŒ–åŸºç¡€ä¹‹pytestæ¡†æ¶ç”¨æ³•ã€è§„åˆ™ã€é…ç½®ã€æ ‡è®°(day13)åˆ›å»ºæ–°çš„é¡¹ç›®ï¼šapi_framwrok_241 1. ä»€ä¹ˆæ˜¯æµ‹è¯•æ¡†æ¶æµ‹è¯•æ¡†æ¶ï¼šæŠ½è±¡å‡ºæ¥ä¸€ä¸ªå·¥å…·é›†åˆï¼Œæä¾›å¤§é‡ç»„ä»¶æˆ–åŠŸèƒ½ï¼š  ç”¨ä¾‹å‘ç°ï¼šè‡ªåŠ¨åŒ–çš„ä»å„ç›®å½•ã€å„æ–‡ä»¶ç§æ”¶é›†æµ‹è¯•ç”¨ä¾‹   ç”¨ä¾‹ç®¡ç†ï¼šæ ¹æ®éœ€æ±‚å¯¹ç”¨ä¾‹è¿›è¡Œç­›é€‰ã€å¿½ç•¥ã€è·³è¿‡ç­‰æ“ä½œ   ç¯å¢ƒç®¡ç†ï¼šåœ¨ç”¨ä¾‹æ‰§è¡Œå‰åï¼Œè‡ªåŠ¨å®ŒæˆæŸäº›æ“ä½œï¼Œæ„é€ åˆé€‚çš„æ‰§è¡Œæ¡ä»¶   ç”¨ä¾‹æ‰§è¡Œï¼šæ‰§è¡Œç”¨ä¾‹çš„æµ‹è¯•æ­¥">
<meta property="og:type" content="article">
<meta property="og:title" content="æ¥å£è‡ªåŠ¨åŒ–åŸºç¡€ä¹‹pytest">
<meta property="og:url" content="https://sereincease.github.io/2025/06/29/%E6%8E%A5%E5%8F%A3%E8%87%AA%E5%8A%A8%E5%8C%96%E5%9F%BA%E7%A1%80%E4%B9%8Bpytest/index.html">
<meta property="og:site_name" content="Sereincease&#39;s Blog">
<meta property="og:description" content="ä¸€ã€æ¥å£è‡ªåŠ¨åŒ–åŸºç¡€ä¹‹pytestæ¡†æ¶ç”¨æ³•ã€è§„åˆ™ã€é…ç½®ã€æ ‡è®°(day13)åˆ›å»ºæ–°çš„é¡¹ç›®ï¼šapi_framwrok_241 1. ä»€ä¹ˆæ˜¯æµ‹è¯•æ¡†æ¶æµ‹è¯•æ¡†æ¶ï¼šæŠ½è±¡å‡ºæ¥ä¸€ä¸ªå·¥å…·é›†åˆï¼Œæä¾›å¤§é‡ç»„ä»¶æˆ–åŠŸèƒ½ï¼š  ç”¨ä¾‹å‘ç°ï¼šè‡ªåŠ¨åŒ–çš„ä»å„ç›®å½•ã€å„æ–‡ä»¶ç§æ”¶é›†æµ‹è¯•ç”¨ä¾‹   ç”¨ä¾‹ç®¡ç†ï¼šæ ¹æ®éœ€æ±‚å¯¹ç”¨ä¾‹è¿›è¡Œç­›é€‰ã€å¿½ç•¥ã€è·³è¿‡ç­‰æ“ä½œ   ç¯å¢ƒç®¡ç†ï¼šåœ¨ç”¨ä¾‹æ‰§è¡Œå‰åï¼Œè‡ªåŠ¨å®ŒæˆæŸäº›æ“ä½œï¼Œæ„é€ åˆé€‚çš„æ‰§è¡Œæ¡ä»¶   ç”¨ä¾‹æ‰§è¡Œï¼šæ‰§è¡Œç”¨ä¾‹çš„æµ‹è¯•æ­¥">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/SereinCease/images/blog/2024-01-28/202201191305988-30aa3e.jpg">
<meta property="article:published_time" content="2025-06-29T03:47:00.000Z">
<meta property="article:modified_time" content="2025-11-17T13:00:13.476Z">
<meta property="article:author" content="Sereincease">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/SereinCease/images/blog/2024-01-28/202201191305988-30aa3e.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://sereincease.github.io/2025/06/29/%E6%8E%A5%E5%8F%A3%E8%87%AA%E5%8A%A8%E5%8C%96%E5%9F%BA%E7%A1%80%E4%B9%8Bpytest/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css?v=4.12.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.32/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: 'å¤åˆ¶æˆåŠŸ',
    error: 'å¤åˆ¶é”™è¯¯',
    noSupport: 'æµè§ˆå™¨ä¸æ”¯æŒ'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: 'åˆšåˆš',
    min: 'åˆ†é’Ÿå‰',
    hour: 'å°æ—¶å‰',
    day: 'å¤©å‰',
    month: 'ä¸ªæœˆå‰'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.11.0/dist/infinitegrid.min.js',
    buttonText: 'åŠ è½½æ›´å¤š'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'æ¥å£è‡ªåŠ¨åŒ–åŸºç¡€ä¹‹pytest',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2025-11-17 21:00:13'
}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
        if (t === 'dark') activateDarkMode()
        else if (t === 'light') activateLightMode()
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/metingjs/dist/Meting.min.js"></script><div class="aplayer" data-id="5456500330" data-server="netease" data-type="playlist" data-fixed="true" data-listFolded="false" data-order="random" data-preload="auto"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/npm/meting@1.2.0/dist/Meting.min.js"></script><meta name="generator" content="Hexo 7.1.1"></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://cdn.jsdelivr.net/gh/SereinCease/images/blog/2024-01-27/202201191302974%20-1--c8fc4e.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">16</div></a><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length-num">7</div></a><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length-num">5</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> é¦–é¡µ</span></a></div><div class="menus_item"><a class="site-page" href="/messageboard/"><i class="fa-fw fa fa-paper-plane"></i><span> ç•™è¨€æ¿</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa-fw fa fa-book"></i><span> æ‰¾æ–‡ç« </span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> æ ‡ç­¾</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> åˆ†ç±»</span></a></li><li><a class="site-page child" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> æ—¶é—´è½´</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa fa-link"></i><span> é“¾æ¥</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/link/"><i class="fa-fw fa fa-users"></i><span> å‹æƒ…é“¾æ¥</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa fa-list"></i><span> èœå•</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/serein/"><i class="fa-fw fa fa-user"></i><span> SereinCeaseä¸ªäººä¸»é¡µ</span></a></li></ul></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://cdn.jsdelivr.net/gh/SereinCease/images/blog/2024-01-28/202201191305988-30aa3e.jpg')"><nav id="nav"><span id="blog-info"><a href="/" title="Sereincease's Blog"><span class="site-name">Sereincease's Blog</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> é¦–é¡µ</span></a></div><div class="menus_item"><a class="site-page" href="/messageboard/"><i class="fa-fw fa fa-paper-plane"></i><span> ç•™è¨€æ¿</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa-fw fa fa-book"></i><span> æ‰¾æ–‡ç« </span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> æ ‡ç­¾</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> åˆ†ç±»</span></a></li><li><a class="site-page child" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> æ—¶é—´è½´</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa fa-link"></i><span> é“¾æ¥</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/link/"><i class="fa-fw fa fa-users"></i><span> å‹æƒ…é“¾æ¥</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa fa-list"></i><span> èœå•</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/serein/"><i class="fa-fw fa fa-user"></i><span> SereinCeaseä¸ªäººä¸»é¡µ</span></a></li></ul></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">æ¥å£è‡ªåŠ¨åŒ–åŸºç¡€ä¹‹pytest</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">å‘è¡¨äº</span><time class="post-meta-date-created" datetime="2025-06-29T03:47:00.000Z" title="å‘è¡¨äº 2025-06-29 11:47:00">2025-06-29</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">æ›´æ–°äº</span><time class="post-meta-date-updated" datetime="2025-11-17T13:00:13.476Z" title="æ›´æ–°äº 2025-11-17 21:00:13">2025-11-17</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="æ¥å£è‡ªåŠ¨åŒ–åŸºç¡€ä¹‹pytest"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">é˜…è¯»é‡:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="ä¸€ã€æ¥å£è‡ªåŠ¨åŒ–åŸºç¡€ä¹‹pytestæ¡†æ¶ç”¨æ³•ã€è§„åˆ™ã€é…ç½®ã€æ ‡è®°-day13"><a href="#ä¸€ã€æ¥å£è‡ªåŠ¨åŒ–åŸºç¡€ä¹‹pytestæ¡†æ¶ç”¨æ³•ã€è§„åˆ™ã€é…ç½®ã€æ ‡è®°-day13" class="headerlink" title="ä¸€ã€æ¥å£è‡ªåŠ¨åŒ–åŸºç¡€ä¹‹pytestæ¡†æ¶ç”¨æ³•ã€è§„åˆ™ã€é…ç½®ã€æ ‡è®°(day13)"></a>ä¸€ã€æ¥å£è‡ªåŠ¨åŒ–åŸºç¡€ä¹‹pytestæ¡†æ¶ç”¨æ³•ã€è§„åˆ™ã€é…ç½®ã€æ ‡è®°(day13)</h1><p>åˆ›å»ºæ–°çš„é¡¹ç›®ï¼šapi_framwrok_241</p>
<h2 id="1-ä»€ä¹ˆæ˜¯æµ‹è¯•æ¡†æ¶"><a href="#1-ä»€ä¹ˆæ˜¯æµ‹è¯•æ¡†æ¶" class="headerlink" title="1. ä»€ä¹ˆæ˜¯æµ‹è¯•æ¡†æ¶"></a>1. ä»€ä¹ˆæ˜¯æµ‹è¯•æ¡†æ¶</h2><p>æµ‹è¯•æ¡†æ¶ï¼šæŠ½è±¡å‡ºæ¥ä¸€ä¸ªå·¥å…·é›†åˆï¼Œæä¾›å¤§é‡ç»„ä»¶æˆ–åŠŸèƒ½ï¼š</p>
<ul>
<li>ç”¨ä¾‹å‘ç°ï¼šè‡ªåŠ¨åŒ–çš„ä»å„ç›®å½•ã€å„æ–‡ä»¶ç§æ”¶é›†æµ‹è¯•ç”¨ä¾‹  </li>
<li>ç”¨ä¾‹ç®¡ç†ï¼šæ ¹æ®éœ€æ±‚å¯¹ç”¨ä¾‹è¿›è¡Œç­›é€‰ã€å¿½ç•¥ã€è·³è¿‡ç­‰æ“ä½œ  </li>
<li>ç¯å¢ƒç®¡ç†ï¼šåœ¨ç”¨ä¾‹æ‰§è¡Œå‰åï¼Œè‡ªåŠ¨å®ŒæˆæŸäº›æ“ä½œï¼Œæ„é€ åˆé€‚çš„æ‰§è¡Œæ¡ä»¶  </li>
<li>ç”¨ä¾‹æ‰§è¡Œï¼šæ‰§è¡Œç”¨ä¾‹çš„æµ‹è¯•æ­¥éª¤  </li>
<li>æ–­è¨€ï¼šæ‰§è¡Œç”¨ä¾‹æ—¶ï¼Œåˆ¤å®šæ‰§è¡Œç»“æœæ˜¯å¦ç¬¦åˆé¢„æœŸ</li>
</ul>
<p>å¤§éƒ¨åˆ†çš„ç¼–ç¨‹è¯­è¨€éƒ½æœ‰å¯¹åº”æµ‹è¯•æ¡†æ¶ï¼š</p>
<ul>
<li>Java: JUnit, TestNG  </li>
<li>php: phpunit  </li>
<li>Python: unittest, pytest  </li>
<li>æ›´å¤šâ€¦â€¦</li>
</ul>
<p>unittest:  </p>
<ul>
<li>pythonå†…ç½®ã€æ— éœ€å®‰è£…  </li>
<li>ç”¨æµ“éƒJavaé£æ ¼  </li>
<li>æ— æ³•å‡çº§ã€æ‰©å±•</li>
</ul>
<p>pytest:  </p>
<ul>
<li>æ‰‹åŠ¨å®‰è£…ã€è‡ªç”±åˆ‡æ¢ç‰ˆæœ¬  </li>
<li>æœ‰æµ“éƒPythoné£æ ¼  </li>
<li>æœ‰ä¸°å¯Œç¬¬ä¸‰æ–¹ç”Ÿæ€è¿›è¡Œæ‰©å±•  </li>
<li>å®Œå…¨å…¼å®¹unittest</li>
</ul>
<hr>
<h2 id="2-pytestæµ‹è¯•æ¡†æ¶"><a href="#2-pytestæµ‹è¯•æ¡†æ¶" class="headerlink" title="2. pytestæµ‹è¯•æ¡†æ¶"></a>2. pytestæµ‹è¯•æ¡†æ¶</h2><h3 id="1-å®‰è£…pytest"><a href="#1-å®‰è£…pytest" class="headerlink" title="1. å®‰è£…pytest"></a>1. å®‰è£…pytest</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pip install pytest    <span class="comment"># å®‰è£…pytest  </span></span><br><span class="line">pip install pytest -U <span class="comment"># å®‰è£…ã€å‡çº§pytest åˆ°æœ€æ–°ç‰ˆ  </span></span><br><span class="line">pip install pytest==7.0   <span class="comment"># å®‰è£…pytest 7.0ç‰ˆæœ¬  </span></span><br></pre></td></tr></table></figure>

<ul>
<li><code>pip install</code> å®‰è£…ç¬¬ä¸‰æ–¹åº“çš„å‘½ä»¤  </li>
<li><code>pytest</code> ç¬¬ä¸‰æ–¹åº“çš„åå­—  </li>
<li><code>-U</code> å‡çº§ï¼Œä¿æŒæœ€æ–°ç‰ˆ  </li>
<li><code>==7.0</code> æŒ‡å®šç‰ˆæœ¬å·</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pip show pytest  <span class="comment"># æŸ¥çœ‹pytestä¿¡æ¯  </span></span><br><span class="line">pytest  <span class="comment"># å¯åŠ¨æµ‹è¯•æ¡†æ¶  </span></span><br></pre></td></tr></table></figure>

<hr>
<h3 id="2-ç¼–å†™æµ‹è¯•ç”¨ä¾‹"><a href="#2-ç¼–å†™æµ‹è¯•ç”¨ä¾‹" class="headerlink" title="2. ç¼–å†™æµ‹è¯•ç”¨ä¾‹"></a>2. ç¼–å†™æµ‹è¯•ç”¨ä¾‹</h3><ol>
<li>åˆ›å»ºï¼š<code>test_</code>å¼€å¤´çš„pyæ–‡ä»¶  </li>
<li>åˆ›å»ºï¼š<code>test_</code>å¼€å¤´çš„å‡½æ•°  </li>
<li>åˆ›å»ºï¼š<code>assert</code>æ–­è¨€</li>
</ol>
<p>ç¤ºä¾‹æ–‡ä»¶ <code>test_abc.py</code>ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">test_ok</span>():</span><br><span class="line">    <span class="keyword">assert</span> <span class="number">1</span> == <span class="number">1</span>  <span class="comment"># æµ‹è¯•é€šè¿‡</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">test_fail</span>():</span><br><span class="line">    <span class="keyword">assert</span> <span class="number">1</span> == <span class="number">2</span>  <span class="comment"># æµ‹è¯•å¤±è´¥</span></span><br></pre></td></tr></table></figure>

<hr>
<h3 id="3-æ‰§è¡Œæµ‹è¯•ç”¨ä¾‹"><a href="#3-æ‰§è¡Œæµ‹è¯•ç”¨ä¾‹" class="headerlink" title="3. æ‰§è¡Œæµ‹è¯•ç”¨ä¾‹"></a>3. æ‰§è¡Œæµ‹è¯•ç”¨ä¾‹</h3><ol>
<li><p>å‘½ä»¤è¡Œ  </p>
 <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pytest</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä»£ç   </p>
 <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pytest</span><br><span class="line">pytest.main()  <span class="comment"># å¯åŠ¨æµ‹è¯•æ¡†æ¶</span></span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h3 id="4-çœ‹æ‡‚æ‰§è¡Œç»“æœ"><a href="#4-çœ‹æ‡‚æ‰§è¡Œç»“æœ" class="headerlink" title="4. çœ‹æ‡‚æ‰§è¡Œç»“æœ"></a>4. çœ‹æ‡‚æ‰§è¡Œç»“æœ</h3><ol>
<li><p>æ‰§è¡Œç¯å¢ƒ  </p>
 <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">platform win32 -- Python 3.12.0, pytest-8.1.1, pluggy-1.4.0</span><br><span class="line">rootdir: E:\PyProject\api_framework_241</span><br></pre></td></tr></table></figure>
</li>
<li><p>ç”¨ä¾‹æ”¶é›†æƒ…å†µ  </p>
 <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">collected 2 items</span><br></pre></td></tr></table></figure>
</li>
<li><p>ç”¨ä¾‹æ‰§è¡Œè¿‡ç¨‹  </p>
 <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">test_abc.py .F</span><br><span class="line">[100%]</span><br></pre></td></tr></table></figure></li>
</ol>
<table>
<thead>
<tr>
<th>ç¼©å†™</th>
<th>å•è¯</th>
<th>å«ä¹‰</th>
</tr>
</thead>
<tbody><tr>
<td>.</td>
<td>passed</td>
<td>é€šè¿‡</td>
</tr>
<tr>
<td>F</td>
<td>failed</td>
<td>å¤±è´¥ï¼ˆç”¨ä¾‹æ‰§è¡Œæ—¶æŠ¥é”™ï¼‰</td>
</tr>
<tr>
<td>E</td>
<td>error</td>
<td>å‡ºé”™ï¼ˆfixtureæ‰§è¡ŒæŠ¥é”™ï¼‰</td>
</tr>
<tr>
<td>s</td>
<td>skipped</td>
<td>è·³è¿‡</td>
</tr>
<tr>
<td>X</td>
<td>xpassed</td>
<td>é¢„æœŸå¤–çš„é€šè¿‡ï¼ˆä¸ç¬¦åˆé¢„æœŸï¼‰</td>
</tr>
<tr>
<td>x</td>
<td>xfailed</td>
<td>é¢„æœŸå†…çš„å¤±è´¥ï¼ˆç¬¦åˆé¢„æœŸï¼‰</td>
</tr>
</tbody></table>
<ol start="4">
<li><p>ç”¨ä¾‹å¤±è´¥åŸå›   </p>
 <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">================================== FAILURES</span><br><span class="line">===================================</span><br><span class="line">__________________________________ test_fail</span><br><span class="line">__________________________________</span><br><span class="line">def test_fail():</span><br><span class="line">&gt; assert 1 == 2 # æµ‹è¯•å¤±è´¥</span><br><span class="line">E assert 1 == 2</span><br><span class="line">test_abc.py:6: AssertionError</span><br></pre></td></tr></table></figure>
</li>
<li><p>æµ‹è¯•æ¡†æ¶æ€»ç»“ä¿¡æ¯  </p>
 <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">=========================== short test summary info</span><br><span class="line">===========================</span><br><span class="line">FAILED test_abc.py::test_fail - assert 1 == 2</span><br><span class="line">========================= 1 failed, 1 passed in 0.03s</span><br><span class="line">=========================</span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h3 id="5-ç”¨ä¾‹å‘ç°è§„åˆ™"><a href="#5-ç”¨ä¾‹å‘ç°è§„åˆ™" class="headerlink" title="5. ç”¨ä¾‹å‘ç°è§„åˆ™"></a>5. ç”¨ä¾‹å‘ç°è§„åˆ™</h3><p>pytestè¯†åˆ«ã€åŠ è½½æµ‹è¯•ç”¨ä¾‹è¿‡ç¨‹ç§°ä¹‹ä¸ºç”¨ä¾‹å‘ç°ï¼Œè§„åˆ™ï¼š</p>
<ol>
<li><p>éå†æ‰€æœ‰çš„ç›®å½•ï¼ˆvenvé™¤å¤–ï¼‰  </p>
</li>
<li><p>éå†æ‰€æœ‰ <code>test_</code>å¼€å¤´ æˆ–è€… <code>_test</code>ç»“å°¾çš„pythonæ–‡ä»¶  </p>
</li>
<li><p>éå†æ‰€æœ‰ <code>test</code> å¼€å¤´çš„ç±»  </p>
<ul>
<li><p>ç±»ä¸èƒ½æ‹¥æœ‰<code>__init__</code>æ–¹æ³•  </p>
<ul>
<li><p>æ ¸å¿ƒåŸå› ï¼š<strong>pytest ä¸ä½¿ç”¨ <code>__init__</code> æ¥åˆ›å»ºæµ‹è¯•ç±»å®ä¾‹</strong></p>
<p>å½“ä½ è¿è¡Œ pytest æ—¶ï¼Œå®ƒä¼šï¼š</p>
</li>
</ul>
<ol>
<li>æ‰«ææ‰€æœ‰ä»¥ <code>Test</code> å¼€å¤´çš„ç±»ï¼ˆä¸”ä¸åŒ…å« <code>__init__</code> çš„ç±»ä¼šè¢«ç‰¹æ®Šå¤„ç†ï¼‰ï¼›</li>
<li>å¯¹äºæ¯ä¸ªæµ‹è¯•æ–¹æ³•ï¼Œ<strong>å•ç‹¬åˆ›å»ºä¸€ä¸ªæ–°çš„ç±»å®ä¾‹</strong>ï¼›</li>
<li><strong>è¿™ä¸ªå®ä¾‹æ˜¯é€šè¿‡æ— å‚æ–¹å¼åˆ›å»ºçš„</strong>ï¼ˆå³ <code>TestClass()</code>ï¼‰ï¼Œ**ä¸ä¼šè°ƒç”¨ä½ è‡ªå®šä¹‰çš„ <code>__init__(self, ...)</code>**ï¼ˆå¦‚æœä½ å†™äº†å¸¦å‚æ•°çš„ <code>__init__</code>ï¼Œå°±ä¼šå‡ºé”™ï¼‰ã€‚</li>
</ol>
</li>
</ul>
</li>
<li><p>æ”¶é›† <code>test_</code>å¼€å¤´çš„å‡½æ•°æˆ–è€…æ–¹æ³•ï¼Œä½œä¸ºæµ‹è¯•ç”¨ä¾‹</p>
</li>
</ol>
<p><strong>é‡ç‚¹</strong>ï¼špytestï¼Œåªæœ‰å‡½æ•°å’Œæ–¹æ³•ï¼Œæ‰è¢«è§†ä¸ºæµ‹è¯•ç”¨ä¾‹ï¼Œç›®å½•ã€æ–‡ä»¶ã€ç±»ï¼Œä½œä¸ºç”¨ä¾‹çš„å®¹å™¨  </p>
<h2 id="3-pytesté«˜çº§ç”¨æ³•"><a href="#3-pytesté«˜çº§ç”¨æ³•" class="headerlink" title="3. pytesté«˜çº§ç”¨æ³•"></a>3. pytesté«˜çº§ç”¨æ³•</h2><h3 id="1-é…ç½®"><a href="#1-é…ç½®" class="headerlink" title="1. é…ç½®"></a>1. é…ç½®</h3><p>pytest æœ‰2ç§é…ç½®æ–¹å¼ï¼š</p>
<ul>
<li>å‘½ä»¤è¡Œå‚æ•°  </li>
<li>inié…ç½®æ–‡ä»¶</li>
</ul>
<p>æŸ¥çœ‹æ‰€æœ‰çš„é…ç½®é¡¹  </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pytest -h  </span><br></pre></td></tr></table></figure>

<p>å¯ä»¥åˆ†æˆä¸‰å¤§éƒ¨åˆ†</p>
<ol>
<li>å‚æ•°</li>
<li>é…ç½®é¡¹</li>
<li>ç¯å¢ƒå˜é‡</li>
</ol>
<p>å¸¸ç”¨çš„å‘½ä»¤è¡Œå‚æ•°ï¼š  </p>
<ul>
<li><p><code>-v</code>ï¼šå¢åŠ è¯¦ç»†ç¨‹åº¦  </p>
</li>
<li><p><code>-q</code>ï¼šå‡å°‘è¯¦ç»†ç¨‹åº¦  </p>
</li>
<li><p><code>-s</code>ï¼šä¸è¿›è¡Œå†…å®¹æ•è·ï¼Œæ‰èƒ½æ­£å¸¸çš„è¾“å…¥è¾“å‡º  </p>
<ul>
<li>â€œå†…å®¹æ•è·â€ï¼ˆOutput Capturingï¼‰æ˜¯ pytest çš„ä¸€ä¸ª<strong>é»˜è®¤è¡Œä¸º</strong>ï¼špytest ä¼šè‡ªåŠ¨â€œæ•è·â€ï¼ˆæ‹¦æˆªï¼‰æµ‹è¯•è¿‡ç¨‹ä¸­æ‰€æœ‰çš„æ ‡å‡†è¾“å‡ºï¼ˆstdoutï¼‰å’Œæ ‡å‡†é”™è¯¯ï¼ˆstderrï¼‰ï¼Œæ¯”å¦‚<code>print()</code>ã€æ—¥å¿—è¾“å‡ºç­‰ã€‚</li>
</ul>
</li>
<li><p><code>-x</code>ï¼šå¿«é€Ÿé€€å‡ºï¼ˆé‡åˆ°ç¬¬ä¸€ä¸ªå¤±è´¥å°±é€€å‡ºï¼Œå†’çƒŸæµ‹è¯•ï¼‰</p>
</li>
</ul>
<p>å¸¸ç”¨çš„inié…ç½®é¡¹ï¼š  </p>
<ol>
<li>åœ¨æ ¹ç›®å½•ä¸­çš„åˆ›å»º <code>pytest.ini</code> æ–‡ä»¶  </li>
<li>åˆ›å»º pytest é€‰æ‹©å™¨  </li>
<li>æŒ‰è¡Œï¼Œæ·»åŠ é…ç½®é¡¹</li>
</ol>
<p>ç¤ºä¾‹ <code>pytest.ini</code>ï¼š  </p>
<figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[pytest]</span></span><br><span class="line"><span class="attr">addopts</span> = -s -x</span><br></pre></td></tr></table></figure>

<p>add options</p>
<p>é…ç½®æ˜¯ç”¨æ¥æ”¹å˜pytest</p>
<p><strong>çº¦å®šå¤§äºé…ç½®</strong>ï¼šå¯¹äºæˆç†Ÿçš„å·¥å…·æ¥è¯´ï¼Œé»˜è®¤é…ç½®å¾€å¾€æ˜¯æ¯”è¾ƒå¥½çš„é…ç½®ï¼Œå¯ä»¥é€‚ç”¨äºå¤§éƒ¨åˆ†åœºæ™¯ã€‚å¦‚éå¿…è¦ï¼Œè¯·å‹¿æ›´æ”¹ã€‚  </p>
<hr>
<h3 id="2-æ ‡è®°mark"><a href="#2-æ ‡è®°mark" class="headerlink" title="2. æ ‡è®°mark"></a>2. æ ‡è®°mark</h3><p>markä¸»è¦ç”¨é€”æ˜¯è®©ç”¨ä¾‹å’Œç”¨ä¾‹ä¹‹é—´å˜å¾—ä¸åŒï¼Œå®ç°ç”¨ä¾‹çš„ç­›é€‰ã€‚  </p>
<h4 id="1-ç”¨æˆ·è‡ªå®šä¹‰æ ‡è®°"><a href="#1-ç”¨æˆ·è‡ªå®šä¹‰æ ‡è®°" class="headerlink" title="1. ç”¨æˆ·è‡ªå®šä¹‰æ ‡è®°"></a>1. ç”¨æˆ·è‡ªå®šä¹‰æ ‡è®°</h4><ol>
<li><p>æ³¨å†Œï¼ˆåœ¨ <code>pytest.ini</code> ä¸­ï¼‰ï¼š  </p>
 <figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[pytest]</span></span><br><span class="line"><span class="attr">markers</span> =</span><br><span class="line">    api</span><br><span class="line">    ui</span><br><span class="line">    ut</span><br><span class="line">    e2e</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ ‡è®°ç”¨ä¾‹ï¼š  </p>
 <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pytest</span><br><span class="line"></span><br><span class="line"><span class="meta">@pytest.mark.ut</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">test_ok</span>():</span><br><span class="line">    <span class="keyword">assert</span> <span class="number">1</span> == <span class="number">1</span>  <span class="comment"># æµ‹è¯•é€šè¿‡</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@pytest.mark.e2e</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">test_fail</span>():</span><br><span class="line">    <span class="keyword">assert</span> <span class="number">1</span> == <span class="number">2</span>  <span class="comment"># æµ‹è¯•å¤±è´¥</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@pytest.mark.api</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">test_baili</span>():</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@pytest.mark.ui</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">test_beifan</span>():</span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>ç­›é€‰ç”¨ä¾‹ï¼š  </p>
 <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pytest -m api  <span class="comment"># åªæ‰§è¡Œæ‹¥æœ‰apiæ ‡è®°çš„ç”¨ä¾‹</span></span><br><span class="line">pytest -m <span class="string">&quot;ut or api&quot;</span>  <span class="comment"># åªæ‰§è¡Œæ‹¥æœ‰utæˆ–apiæ ‡è®°çš„ç”¨ä¾‹</span></span><br><span class="line">pytest -m <span class="string">&quot;ui and api&quot;</span>  <span class="comment"># åªæ‰§è¡ŒåŒæ—¶æ‹¥æœ‰uiå’Œapiæ ‡è®°çš„ç”¨ä¾‹</span></span><br></pre></td></tr></table></figure></li>
</ol>
<h4 id="2-æ¡†æ¶å†…ç½®æ ‡è®°"><a href="#2-æ¡†æ¶å†…ç½®æ ‡è®°" class="headerlink" title="2. æ¡†æ¶å†…ç½®æ ‡è®°"></a>2. æ¡†æ¶å†…ç½®æ ‡è®°</h4><ol>
<li>ä¸éœ€è¦æ³¨å†Œï¼Œç›´æ¥ä½¿ç”¨  </li>
<li>ä¸ä»…ç”¨äºç­›é€‰ï¼Œè¿˜æœ‰ç‰¹æ®Šæ•ˆæœ  </li>
<li>ä¸åŒçš„æ ‡è®°ï¼Œæ‹¥æœ‰ä¸åŒçš„æ•ˆæœ</li>
</ol>
<p>ç¤ºä¾‹ï¼š  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pytest</span><br><span class="line"></span><br><span class="line"><span class="meta">@pytest.mark.skip  </span><span class="comment">#æ— æ¡ä»¶è·³è¿‡ï¼Œä¸ä¼šæ‰§è¡Œè¿™ä¸ªç”¨ä¾‹</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">test_skip</span>():</span><br><span class="line">    <span class="keyword">assert</span> <span class="number">1</span> == <span class="number">2</span>  <span class="comment"># å¤±è´¥</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@pytest.mark.skipif(<span class="params"><span class="number">1</span> == <span class="number">1</span></span>)  </span><span class="comment"># è·³è¿‡ skipif è¡¨ç¤ºï¼šå¦‚æœæ¡ä»¶ä¸º Trueï¼Œåˆ™è·³è¿‡æµ‹è¯•ã€‚</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">test_skipif</span>():</span><br><span class="line">    <span class="keyword">assert</span> <span class="number">1</span> == <span class="number">2</span>  <span class="comment"># å¤±è´¥</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@pytest.mark.skipif(<span class="params"><span class="number">1</span> == <span class="number">2</span></span>)  </span><span class="comment"># ä¸ä¼šè·³è¿‡ 1 == 2ï¼ŒFalse â†’ ä¸æ»¡è¶³è·³è¿‡æ¡ä»¶ â†’ æµ‹è¯•ä¼šæ­£å¸¸æ‰§è¡Œã€‚</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">test_skipif</span>():</span><br><span class="line">    <span class="keyword">assert</span> <span class="number">1</span> == <span class="number">2</span>  <span class="comment"># å¤±è´¥</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@pytest.mark.xfail  </span><span class="comment">#  é¢„æœŸå¤±è´¥ï¼Œå®é™…ä¹Ÿå¤±è´¥ â†’ XFAILï¼ˆæ­£å¸¸ï¼‰æœ€ç»ˆæŠ¥å‘Šï¼šXFAILï¼ˆç»¿è‰²/é€šè¿‡çŠ¶æ€ï¼‰</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">test_passed</span>():</span><br><span class="line">    <span class="keyword">assert</span> <span class="number">1</span> == <span class="number">2</span>  <span class="comment"># ç»“æœå¤±è´¥</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@pytest.mark.xfail  </span><span class="comment">#  é¢„æœŸå¤±è´¥ï¼Œå®é™…å´æˆåŠŸ â†’ XPASSï¼ˆæ„å¤–ï¼‰æœ€ç»ˆæŠ¥å‘Šï¼šXPASSï¼ˆé»„è‰²/è­¦å‘ŠçŠ¶æ€ï¼‰</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">test_fail</span>():</span><br><span class="line">    <span class="keyword">assert</span> <span class="number">1</span> == <span class="number">1</span>  <span class="comment"># ç»“æœæˆåŠŸ</span></span><br></pre></td></tr></table></figure>

<p><strong><code>@pytest.mark.xfail</code> çš„æ„æ€æ˜¯ï¼šâ€œæˆ‘çŸ¥é“è¿™ä¸ªåŠŸèƒ½ç°åœ¨æœ‰ bugï¼Œä¼šå¤±è´¥ï¼Œä½†æˆ‘ä¸å¸Œæœ›å®ƒè®©æ•´ä¸ªæµ‹è¯•å¥—ä»¶å˜çº¢ï¼ˆå¤±è´¥ï¼‰ã€‚â€</strong></p>
<p>ğŸ§© ä¸¾ä¸ªç”Ÿæ´»ä¾‹å­ï¼šä¿®è½¦å¸ˆå‚… vs æ•…éšœè½¦</p>
<p>å‡è®¾ä½ æ˜¯ä¸€ä¸ªæ±½è½¦è´¨æ£€å‘˜ï¼Œæ¯å¤©è¦æµ‹è¯• 10 è¾†è½¦æ˜¯å¦èƒ½å¯åŠ¨ã€‚</p>
<ul>
<li>å…¶ä¸­ä¸€è¾†è½¦ï¼ˆç¼–å· #5ï¼‰<strong>å·²çŸ¥å‘åŠ¨æœºåäº†</strong>ï¼Œè€æ¿è¯´ï¼šâ€œè¿™è½¦æˆ‘ä»¬çŸ¥é“æœ‰é—®é¢˜ï¼Œå…ˆåˆ«ç®¡å®ƒï¼Œç­‰é›¶ä»¶åˆ°äº†å†ä¿®ã€‚â€</li>
<li>ä½ è¿˜æ˜¯å»â€œæµ‹è¯•â€å®ƒï¼Œç»“æœï¼š<ul>
<li><strong>æƒ…å†µ A</strong>ï¼šè½¦æœç„¶æ‰“ä¸ç€ç« â†’ ä½ è¯´ï¼šâ€œå—¯ï¼Œå’Œé¢„æœŸä¸€æ ·ï¼Œæ²¡é—®é¢˜ã€‚â€ âœ…</li>
<li><strong>æƒ…å†µ B</strong>ï¼šè½¦å±…ç„¶æ‰“ç€äº†ï¼â†’ ä½ å“ä¸€è·³ï¼šâ€œå’¦ï¼Ÿä¸æ˜¯è¯´åäº†å—ï¼Ÿéš¾é“ä¿®å¥½äº†ï¼Ÿè°ä¿®çš„ï¼Ÿï¼â€ âš ï¸</li>
</ul>
</li>
</ul>
<h4 id="3-å‚æ•°åŒ–æµ‹è¯•"><a href="#3-å‚æ•°åŒ–æµ‹è¯•" class="headerlink" title="3. å‚æ•°åŒ–æµ‹è¯•"></a>3. å‚æ•°åŒ–æµ‹è¯•</h4><p>å‚æ•°åŒ–æµ‹è¯•ï¼šé€šè¿‡æ•°æ®ä¿®æ”¹å‚æ•°ï¼Œä»è€Œæ”¹å˜æµ‹è¯•ç”¨ä¾‹ã€‚<br>æ•°æ®é©±åŠ¨æµ‹è¯• &#x3D; å‚æ•°åŒ–æµ‹è¯• + æ•°æ®æ–‡ä»¶  </p>
<p><strong>å‚æ•°åŒ–ä¹‹å‰</strong>ï¼š  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">add</span>(<span class="params">a, b</span>):</span><br><span class="line">    <span class="keyword">return</span> a + b</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">test_add_1_10</span>():</span><br><span class="line">    a = <span class="number">1</span></span><br><span class="line">    b = <span class="number">1</span></span><br><span class="line">    <span class="keyword">assert</span> <span class="number">2</span> == add(a, b)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">test_add_2_20</span>():</span><br><span class="line">    a = <span class="number">2</span></span><br><span class="line">    b = <span class="number">2</span></span><br><span class="line">    <span class="keyword">assert</span> <span class="number">4</span> == add(a, b)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">test_add_2_30</span>():</span><br><span class="line">    a = <span class="number">2</span></span><br><span class="line">    b = <span class="number">3</span></span><br><span class="line">    <span class="keyword">assert</span> <span class="number">5</span> == add(a, b)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">test_add_3_3</span>():</span><br><span class="line">    a = <span class="number">3</span></span><br><span class="line">    b = <span class="number">3</span></span><br><span class="line">    <span class="keyword">assert</span> <span class="number">6</span> == add(a, b)</span><br></pre></td></tr></table></figure>

<p><strong>å‚æ•°åŒ–ä¹‹å</strong>ï¼š  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@pytest.mark.parametrize(<span class="params"></span></span></span><br><span class="line"><span class="params"><span class="meta">    <span class="string">&quot;a, b, c&quot;</span>,  <span class="comment"># 1. åˆ—å‡ºå‚æ•°</span></span></span></span><br><span class="line"><span class="params"><span class="meta">    [           <span class="comment"># 2. å‡†å¤‡å‚æ•°çš„å€¼</span></span></span></span><br><span class="line"><span class="params"><span class="meta">        [<span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>],</span></span></span><br><span class="line"><span class="params"><span class="meta">        [<span class="number">2</span>, <span class="number">2</span>, <span class="number">4</span>],</span></span></span><br><span class="line"><span class="params"><span class="meta">        [<span class="number">2</span>, <span class="number">3</span>, <span class="number">5</span>],</span></span></span><br><span class="line"><span class="params"><span class="meta">        [<span class="number">3</span>, <span class="number">3</span>, <span class="number">6</span>],  <span class="comment"># 3. æ ¹æ®éœ€æ±‚ä¿®æ”¹æ•°æ®</span></span></span></span><br><span class="line"><span class="params"><span class="meta">    ]</span></span></span><br><span class="line"><span class="params"><span class="meta"></span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">test_add_1_1</span>(<span class="params">a, b, c</span>):</span><br><span class="line">    <span class="keyword">assert</span> c == add(a, b)</span><br></pre></td></tr></table></figure>

<p>âœ… 4. æ”¯æŒå•å‚æ•°</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@pytest.mark.parametrize(<span class="params"><span class="string">&quot;x&quot;</span>, [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">test_square</span>(<span class="params">x</span>):</span><br><span class="line">    <span class="keyword">assert</span> x * x &gt;= <span class="number">0</span></span><br></pre></td></tr></table></figure>

<p>âœ… 5. å¯ä»¥å åŠ å¤šä¸ª <code>parametrize</code>ï¼ˆç¬›å¡å°”ç§¯ï¼‰</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@pytest.mark.parametrize(<span class="params"><span class="string">&quot;a&quot;</span>, [<span class="number">1</span>, <span class="number">2</span>]</span>)</span></span><br><span class="line"><span class="meta">@pytest.mark.parametrize(<span class="params"><span class="string">&quot;b&quot;</span>, [<span class="number">10</span>, <span class="number">20</span>]</span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">test_combo</span>(<span class="params">a, b</span>):</span><br><span class="line">    <span class="built_in">print</span>(a, b)  <span class="comment"># ä¼šè·‘ 4 æ¬¡ï¼š(1,10), (1,20), (2,10), (2,20)</span></span><br></pre></td></tr></table></figure>

<hr>
<h1 id="äºŒã€æ¥å£è‡ªåŠ¨åŒ–åŸºç¡€ä¹‹pytestæ¡†æ¶fixtureã€å¸¸ç”¨æ’ä»¶ã€AllureæŠ¥å‘Šã€ä¼ä¸šçº§å®šåˆ¶-day14"><a href="#äºŒã€æ¥å£è‡ªåŠ¨åŒ–åŸºç¡€ä¹‹pytestæ¡†æ¶fixtureã€å¸¸ç”¨æ’ä»¶ã€AllureæŠ¥å‘Šã€ä¼ä¸šçº§å®šåˆ¶-day14" class="headerlink" title="äºŒã€æ¥å£è‡ªåŠ¨åŒ–åŸºç¡€ä¹‹pytestæ¡†æ¶fixtureã€å¸¸ç”¨æ’ä»¶ã€AllureæŠ¥å‘Šã€ä¼ä¸šçº§å®šåˆ¶(day14)"></a>äºŒã€æ¥å£è‡ªåŠ¨åŒ–åŸºç¡€ä¹‹pytestæ¡†æ¶fixtureã€å¸¸ç”¨æ’ä»¶ã€AllureæŠ¥å‘Šã€ä¼ä¸šçº§å®šåˆ¶(day14)</h1><h2 id="1-pytestå¤¹å…·fixture"><a href="#1-pytestå¤¹å…·fixture" class="headerlink" title="1. pytestå¤¹å…·fixture"></a>1. pytestå¤¹å…·fixture</h2><p><strong>å¤¹å…·</strong>: åœ¨ç”¨ä¾‹æ‰§è¡Œä¹‹å‰ï¼Œæ‰§è¡Œä¹‹åï¼Œè‡ªåŠ¨çš„è¿è¡Œè‡ªå®šä¹‰ä»£ç </p>
<p><strong>åœºæ™¯</strong>:  </p>
<ul>
<li>æ‰§è¡Œä¹‹å‰ï¼šåˆ›å»ºæµ‹è¯•è´¦å·ï¼Œæ‰§è¡Œä¹‹åï¼šåˆ é™¤æµ‹è¯•è´¦å·  </li>
<li>æ‰§è¡Œä¹‹å‰ï¼šå¯åŠ¨æµè§ˆå™¨ï¼Œæ‰§è¡Œä¹‹åï¼šå…³é—­æµè§ˆå™¨  </li>
<li>æ‰§è¡Œä¹‹å‰ï¼šåˆ›å»ºæµ‹è¯•åœºæ™¯ï¼Œæ‰§è¡Œä¹‹åï¼Œé”€æ¯æµ‹è¯•åœºæ™¯</li>
</ul>
<h3 id="1-åˆ›å»ºfixture"><a href="#1-åˆ›å»ºfixture" class="headerlink" title="1. åˆ›å»ºfixture"></a>1. åˆ›å»ºfixture</h3><ol>
<li>åˆ›å»ºå‡½æ•°  </li>
<li>æ·»åŠ è£…é¥°å™¨  </li>
<li><code>yield</code></li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@pytest.fixture  </span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">f</span>():  </span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;å¯åŠ¨æµè§ˆå™¨&#x27;</span>) <span class="comment"># å‰ç½®æ“ä½œï¼Œç”¨ä¾‹æ‰§è¡Œä¹‹å‰ï¼Œè‡ªåŠ¨æ‰§è¡Œ  </span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">yield</span> <span class="string">&#x27;æµè§ˆå™¨ç±»å‹: chrome&#x27;</span> <span class="comment"># è¿”å›å€¼ï¼Œä½¿ç”¨ä¾‹ä½¿ç”¨  </span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;å…³é—­æµè§ˆå™¨&#x27;</span>) <span class="comment"># åç½®æ“ä½œï¼Œç”¨ä¾‹æ‰§è¡Œä¹‹åï¼Œè‡ªåŠ¨æ‰§è¡Œ  </span></span><br></pre></td></tr></table></figure>

<p>ç®€ä¾¿çš„æ–¹å¼åˆ›å»ºfixture  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@pytest.fixture  </span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">f</span>(): <span class="comment"># ä½¿ç”¨fixture  </span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;å¯åŠ¨æµè§ˆå™¨&#x27;</span>)  </span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">None</span>  </span><br></pre></td></tr></table></figure>

<h3 id="2-ä½¿ç”¨fixtures"><a href="#2-ä½¿ç”¨fixtures" class="headerlink" title="2. ä½¿ç”¨fixtures"></a>2. ä½¿ç”¨fixtures</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">test_abc</span>(<span class="params">f</span>): <span class="comment"># ä½¿ç”¨fixtureï¼Œå¾—åˆ°å®ƒçš„è¿”å›å€¼ fixture å‡½æ•°çš„åå­— = æµ‹è¯•å‡½æ•°å‚æ•°çš„åå­— = ä½ åœ¨æµ‹è¯•é‡Œä½¿ç”¨çš„å˜é‡å</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;æˆ‘æ˜¯ç”¨ä¾‹å†…å®¹ï¼Œæ­£åœ¨æ‰§è¡Œ&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;æ”¶åˆ°fixtureçš„è¿”å›å€¼:&#x27;</span>, f)</span><br></pre></td></tr></table></figure>

<h4 id="æ‰§è¡Œç»“æœ"><a href="#æ‰§è¡Œç»“æœ" class="headerlink" title="æ‰§è¡Œç»“æœ"></a>æ‰§è¡Œç»“æœ</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">test_abc.py::test_abc å¯åŠ¨æµè§ˆå™¨  </span><br><span class="line">æˆ‘æ˜¯ç”¨ä¾‹å†…å®¹ï¼Œæ­£åœ¨æ‰§è¡Œ  </span><br><span class="line">æ”¶åˆ°fixtureçš„è¿”å›å€¼ï¼šæµè§ˆå™¨ç±»å‹ï¼šchrome  </span><br><span class="line">PASSEDå…³é—­æµè§ˆå™¨  </span><br></pre></td></tr></table></figure>

<h4 id="ç®€ä¾¿çš„æ–¹å¼ä½¿ç”¨fixture"><a href="#ç®€ä¾¿çš„æ–¹å¼ä½¿ç”¨fixture" class="headerlink" title="ç®€ä¾¿çš„æ–¹å¼ä½¿ç”¨fixture"></a>ç®€ä¾¿çš„æ–¹å¼ä½¿ç”¨fixture</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@pytest.mark.usefixtures(<span class="params"><span class="string">&#x27;f&#x27;</span></span>) </span><span class="comment"># ä½¿ç”¨fixture  </span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">test_abc</span>():  </span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;æˆ‘æ˜¯ç”¨ä¾‹å†…å®¹ï¼Œæ­£åœ¨æ‰§è¡Œ&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>âœ… <strong>ä»€ä¹ˆæ—¶å€™ä¼ å‚ï¼Ÿä»€ä¹ˆæ—¶å€™ç”¨ <code>usefixtures</code>ï¼Ÿ</strong>è®°ä½ä¸€ä¸ªé»„é‡‘åŸåˆ™</p>
<blockquote>
<p><strong>å¦‚æœä½ éœ€è¦æ‹¿åˆ° fixture è¿”å›çš„æ•°æ®ï¼ˆæˆ–å¯¹è±¡ï¼‰ï¼Œå°±æŠŠå®ƒä½œä¸ºå‚æ•°å†™è¿›æµ‹è¯•å‡½æ•°ï¼›<br> å¦‚æœä½ ä¸éœ€è¦è¿”å›å€¼ï¼Œåªå¸Œæœ›å®ƒâ€œè‡ªåŠ¨æ‰§è¡Œä¸€ä¸‹â€ï¼Œå°±ç”¨ <code>@usefixtures</code>ã€‚</strong></p>
</blockquote>
<h3 id="3-fixtureçš„ä½œç”¨èŒƒå›´"><a href="#3-fixtureçš„ä½œç”¨èŒƒå›´" class="headerlink" title="3. fixtureçš„ä½œç”¨èŒƒå›´"></a>3. fixtureçš„ä½œç”¨èŒƒå›´</h3><p>fixtureå¯åŠ¨æ¯”è¾ƒæ…¢ï¼Œèƒ½å¦å…±äº«ï¼ˆå¤ç”¨ï¼‰fixtureï¼Ÿ</p>
<ul>
<li>æ¯ä¸ªç”¨ä¾‹æ‰§è¡Œfixtureï¼š5s * 3(fixtureæ‰§è¡Œæ¬¡æ•°) &#x3D; 15s  </li>
<li>æ¯ä¸ªç”¨ä¾‹å¤ç”¨fixtureï¼š5s * 1(fixtureæ‰§è¡Œæ¬¡æ•°) &#x3D; 5s</li>
</ul>
<p>pytestä¸­ï¼Œç”¨ä¸€ä¸ªä½œç”¨èŒƒå›´å†…fixtureä¼šè‡ªåŠ¨çš„å…±äº«ï¼ˆå¤ç”¨ï¼‰</p>
<p>pytestä¸­ï¼Œæ”¯æŒ5çº§ä½œç”¨åŸŸï¼š</p>
<ol>
<li>functionï¼šé»˜è®¤ï¼Œä¸å…±äº«  </li>
<li>classï¼šåŒä¸€ä¸ªç±»ä¸­ç”¨ä¾‹ï¼Œè‡ªåŠ¨å…±äº«  </li>
<li>moduleï¼šåŒä¸€ä¸ªæ¨¡å—ï¼ˆæ–‡ä»¶ï¼‰ä¸­ç”¨ä¾‹ï¼Œè‡ªåŠ¨å…±äº«  </li>
<li>packageï¼šåŒä¸€ä¸ªåŒ…ï¼ˆç›®å½•ï¼‰ä¸­ç”¨ä¾‹ï¼Œè‡ªåŠ¨å…±äº«  </li>
<li>sessionï¼šæ‰€æœ‰ç”¨ä¾‹ï¼Œè‡ªåŠ¨å…±äº«</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pytest</span><br><span class="line"></span><br><span class="line"><span class="meta">@pytest.fixture(<span class="params">scope=<span class="string">&#x27;class&#x27;</span></span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">f</span>():</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;å¯åŠ¨æµè§ˆå™¨&#x27;</span>) <span class="comment"># å‰ç½®æ“ä½œï¼Œç”¨ä¾‹æ‰§è¡Œä¹‹å‰ï¼Œè‡ªåŠ¨æ‰§è¡Œ</span></span><br><span class="line">    <span class="keyword">yield</span> <span class="string">&#x27;æµè§ˆå™¨ç±»å‹ï¼šchrome&#x27;</span> <span class="comment"># è¿”å›å€¼ï¼Œä¾›ç”¨ä¾‹ä½¿ç”¨</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;å…³é—­æµè§ˆå™¨&#x27;</span>) <span class="comment"># åç½®æ“ä½œï¼Œç”¨ä¾‹æ‰§è¡Œä¹‹åï¼Œè‡ªåŠ¨æ‰§è¡Œ</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Test_A</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">test_1</span>(<span class="params">self, f</span>):</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">test_2</span>(<span class="params">self, f</span>):</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">Test_B</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">test_3</span>(<span class="params">self, f</span>):</span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<h3 id="4-conftest-py"><a href="#4-conftest-py" class="headerlink" title="4. conftest.py"></a>4. conftest.py</h3><p>ä»åå­—ä¸Šçœ‹ï¼šæµ‹è¯•é…ç½®</p>
<p>ä»å†…å®¹ä¸Šçœ‹ï¼špythonä»£ç </p>
<p>ä»æ•ˆæœä¸Šçœ‹ï¼šè¢«pytestè‡ªåŠ¨å¯¼å…¥ï¼Œå®ç°è·¨æ–‡ä»¶çš„fixture</p>
<p>æ¯ä¸ªç›®å½•éƒ½å¯ä»¥åˆ›å»ºä¸€ä¸ªconftest.py</p>
<p>å­ç›®å½•çš„conftest.pyå¯ä»¥å±è”½çˆ¶ç›®å½•çš„conftest.py</p>
<p>å“ªä¸ªæ–‡ä»¶é‡Œç”¨ä¾‹æ›´è¿‘ï¼Œå®ƒçš„ä¼˜å…ˆçº§å°±è¶Šé«˜</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">project/</span><br><span class="line">â”œâ”€â”€ conftest.py          â† å…¨å±€ fixtureï¼ˆå¦‚ db, browserï¼‰</span><br><span class="line">â”œâ”€â”€ test_user.py</span><br><span class="line">â”œâ”€â”€ test_order.py</span><br><span class="line">â””â”€â”€ api/</span><br><span class="line">    â”œâ”€â”€ conftest.py      â† è¦†ç›–çˆ¶çº§ï¼Œåªå¯¹ api/ ç”Ÿæ•ˆ</span><br><span class="line">    â””â”€â”€ test_login.py</span><br></pre></td></tr></table></figure>

<h3 id="5-fixtureçš„å…¶ä»–å†™æ³•"><a href="#5-fixtureçš„å…¶ä»–å†™æ³•" class="headerlink" title="5. fixtureçš„å…¶ä»–å†™æ³•"></a>5. fixtureçš„å…¶ä»–å†™æ³•</h3><p>å¯¹äºæ¨¡å—çº§å¤¹å…·æœ‰ 3 ç§å†™æ³•ï¼š</p>
<ol>
<li>setup &#x2F; teardown  </li>
<li>setUpModule &#x2F; tearDownModule  </li>
<li>setup_module &#x2F; teardown_module</li>
</ol>
<p>ç¬¬ä¸€ç§æ˜¯æµ‹è¯•æ¡†æ¶ nose çš„å†™æ³•ï¼Œ<strong>pytest ä» 7.2.0 å¼€å§‹ä¸å†å…¼å®¹ nose æ¡†æ¶</strong>ï¼Œè¿™ç§å†™æ³•æ— äº†</p>
<p>ç¬¬äºŒç§æ˜¯æµ‹è¯•æ¡†æ¶ unittest çš„å†™æ³•ï¼Œè¿™æ˜¯ python çš„æ ‡å‡†åº“ï¼Œåº”è¯¥ä¼šä¸€ç›´å…¼å®¹ä¸‹å»<br>ç¬¬ä¸‰ç§æ˜¯æµ‹è¯•æ¡†æ¶ pytest çš„å†™æ³•ï¼Œæ˜¯ä»¿ xunit é£æ ¼ï¼Œä½¿ç”¨éé¢å‘å¯¹è±¡çš„æ–¹å¼æ¥åˆ›å»ºå¤¹å…·åœ¨å®é™…çš„è¿è¡Œè¿‡ç¨‹ä¸­ï¼Œæ‰€æœ‰çš„å†™æ³•éƒ½ä¼šç»Ÿä¸€å¤„ç†æˆ fixtureï¼Œ<strong>å»ºè®®ä¸€æ­¥åˆ°ä½ç›´æ¥å†™ fixture</strong></p>
<hr>
<h2 id="2-pytestå¸¸ç”¨æ’ä»¶"><a href="#2-pytestå¸¸ç”¨æ’ä»¶" class="headerlink" title="2. pytestå¸¸ç”¨æ’ä»¶"></a>2. pytestå¸¸ç”¨æ’ä»¶</h2><p><a target="_blank" rel="noopener" href="https://pypi.org/">https://pypi.org/</a></p>
<h3 id="1-pytest-html"><a href="#1-pytest-html" class="headerlink" title="1. pytest-html"></a>1. pytest-html</h3><p>ç”¨é€”ï¼šç”ŸæˆHTMLæµ‹è¯•æŠ¥å‘Š<br>æ–‡æ¡£ï¼š<a target="_blank" rel="noopener" href="https://pytest-html.readthedocs.io/en/latest/installing.html">https://pytest-html.readthedocs.io/en/latest/installing.html</a><br>å®‰è£…ï¼š  </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install pytest-html</span><br></pre></td></tr></table></figure>

<p>é…ç½®ï¼šå‘½ä»¤è¡Œå‚æ•°  </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">--html=report.html --self-contained-html</span><br></pre></td></tr></table></figure>

<h3 id="2-pytest-xdist"><a href="#2-pytest-xdist" class="headerlink" title="2. pytest-xdist"></a>2. pytest-xdist</h3><p>ç”¨é€”ï¼šå¹¶å‘æ‰§è¡Œç”¨ä¾‹<br>æ–‡æ¡£ï¼š<a target="_blank" rel="noopener" href="https://pytest-xdist.readthedocs.io/en/stable/">https://pytest-xdist.readthedocs.io/en/stable/</a>  </p>
<p>å®‰è£…ï¼š  </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install pytest-xdist</span><br></pre></td></tr></table></figure>

<p>é…ç½®ï¼šå‘½ä»¤è¡Œå‚æ•°  </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">-n &#123;0,1,2,3,...,n, auto&#125;</span><br></pre></td></tr></table></figure>

<p>æ³¨æ„ï¼š  </p>
<ol>
<li>å¤šè¿›ç¨‹é¢å¤–å¢åŠ èµ„æº  </li>
<li>å¤šè¿›ç¨‹ä¹±åº  </li>
<li>å¤šè¿›ç¨‹ç«äº‰èµ„æºï¼ˆ-så¤±æ•ˆï¼‰  </li>
<li>auto è‡ªåŠ¨åˆ¤æ–­è¿›ç¨‹æ•°ï¼ˆCPUå†…æ ¸æ•°ï¼‰</li>
</ol>
<h3 id="3-pytest-order"><a href="#3-pytest-order" class="headerlink" title="3. pytest-order"></a>3. pytest-order</h3><p>ç”¨é€”ï¼šå®šä¹‰ç”¨ä¾‹çš„æ‰§è¡Œé¡ºåº<br>æ–‡æ¡£ï¼š<a target="_blank" rel="noopener" href="https://pytest-order.readthedocs.io/en/latest/">https://pytest-order.readthedocs.io/en/latest/</a>  </p>
<p>å®‰è£…ï¼š  </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install pytest-order</span><br></pre></td></tr></table></figure>

<p>é…ç½®ï¼šæ ‡è®°  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@pytest.mark.order(<span class="params"><span class="number">5</span></span>) </span><span class="comment"># åæ‰§è¡Œ  </span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">test_abc</span>():  </span><br><span class="line">    <span class="keyword">pass</span>  </span><br><span class="line"><span class="meta">@pytest.mark.order(<span class="params"><span class="number">1</span></span>) </span><span class="comment"># å…ˆæ‰§è¡Œ  </span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">test_bbc</span>():  </span><br><span class="line">    <span class="keyword">pass</span>  </span><br></pre></td></tr></table></figure>

<p>é¡ºåºè§„åˆ™ï¼š<br>â— å…ˆæ‰§è¡Œæœ‰orderçš„ç”¨ä¾‹ï¼Œå†æ‰§è¡Œæ²¡æœ‰orderçš„ç”¨ä¾‹<br>â— å…ˆæ‰§è¡Œorderè¾ƒå°çš„ç”¨ä¾‹ï¼Œå†æ‰§è¡Œorderè¾ƒå¤§çš„ç”¨ä¾‹  </p>
<ul>
<li>orderå…¨å±€ç”Ÿæ•ˆï¼Œå¯ä»¥è·¨æ–‡ä»¶ã€è·¨ç›®å½•</li>
</ul>
<h3 id="4-pytest-rerunfailures"><a href="#4-pytest-rerunfailures" class="headerlink" title="4. pytest-rerunfailures"></a>4. pytest-rerunfailures</h3><p>ç”¨é€”ï¼šç”¨ä¾‹å¤±è´¥æ—¶è‡ªåŠ¨é‡è¯•</p>
<p>æ–‡æ¡£ï¼š<a target="_blank" rel="noopener" href="https://github.com/pytest-dev/pytest-rerunfailures">https://github.com/pytest-dev/pytest-rerunfailures</a></p>
<p>å®‰è£…ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install pytest-rerunfailures</span><br></pre></td></tr></table></figure>

<p>é…ç½®ï¼šå‘½ä»¤è¡Œå‚æ•°</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">--reruns 5 --reruns-delay 1</span><br></pre></td></tr></table></figure>

<h3 id="5-pytest-result-log"><a href="#5-pytest-result-log" class="headerlink" title="5. pytest-result-log"></a>5. pytest-result-log</h3><p>ç”¨é€”ï¼šæŠŠç”¨ä¾‹çš„æ‰§è¡Œç»“æœä¿å­˜åˆ°æ—¥å¿—æ–‡ä»¶</p>
<p>æ–‡æ¡£ï¼š<a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s/f90fcj54pKvebnBahlllog">https://mp.weixin.qq.com/s/f90fcj54pKvebnBahlllog</a></p>
<p>å®‰è£…ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install pytest-result-log</span><br></pre></td></tr></table></figure>

<p>é…ç½®ï¼špytest.ini</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">log_file = ./pytest.log</span><br><span class="line">log_file_level = info</span><br><span class="line">log_file_format = %(levelname)-8s %(asctime)s [%(name)s:%(lineno)s] : % (message)s</span><br><span class="line">log_file_date_format = %Y-%m-%d %H:%M:%S</span><br><span class="line"></span><br><span class="line">ï¼›è®°å½•ç”¨ä¾‹æ‰§è¡Œç»“æœ</span><br><span class="line">result_log_enable = 1</span><br><span class="line">ï¼›è®°å½•ç”¨ä¾‹åˆ†å‰²çº¿</span><br><span class="line">result_log_separator = 1</span><br><span class="line">ï¼›åˆ†å‰²çº¿ç­‰çº§</span><br><span class="line">result_log_level_separator = warning</span><br><span class="line">ï¼›å¼‚å¸¸ä¿¡æ¯ç­‰çº§</span><br><span class="line">result_log_level_verbose = info</span><br></pre></td></tr></table></figure>

<p>pycharmæ’ä»¶ï¼šIdeologï¼ˆæ—¥å¿—é¢œè‰²ï¼‰</p>
<h3 id="6-allure-pytest"><a href="#6-allure-pytest" class="headerlink" title="6. allure-pytest"></a>6. allure-pytest</h3><p>ç”¨é€”ï¼šç”Ÿæˆallureæ•°æ®æ–‡ä»¶</p>
<p>æ–‡æ¡£ï¼š<a target="_blank" rel="noopener" href="https://docs.gameta.io/allure-report/#">https://docs.gameta.io/allure-report/#</a> pytest</p>
<p>å®‰è£…ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install allure-pytest</span><br></pre></td></tr></table></figure>

<p>é…ç½®ï¼šå‘½ä»¤è¡Œå‚æ•°</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">--alluredir=temps --clean-alluredir</span><br></pre></td></tr></table></figure>

<p>æœ¬æ’ä»¶åªç”Ÿæˆæ•°æ®ï¼Œä¸ç”ŸæˆæŠ¥å‘Šï¼š</p>
<ol>
<li>åˆ›å»ºç›®å½• temps</li>
<li>æ¸…ç©ºç›®å½•å†…å®¹</li>
<li>åœ¨ç›®å½•ä¸­åˆ›å»ºæ•°æ®æ–‡ä»¶</li>
</ol>
<hr>
<h2 id="3-å®šåˆ¶ä¼ä¸šçº§çš„æµ‹è¯•æŠ¥å‘Š"><a href="#3-å®šåˆ¶ä¼ä¸šçº§çš„æµ‹è¯•æŠ¥å‘Š" class="headerlink" title="3. å®šåˆ¶ä¼ä¸šçº§çš„æµ‹è¯•æŠ¥å‘Š"></a>3. å®šåˆ¶ä¼ä¸šçº§çš„æµ‹è¯•æŠ¥å‘Š</h2><p>allure æ˜¯ä¸€ä¸ªä¸“ä¸šæµ‹è¯•æŠ¥å‘Šæ¡†æ¶ï¼Œæ˜¯ä¸€ä¸ªJavaç¨‹åº<br>allure-pytest æ˜¯ä¸€ä¸ªpytestæ’ä»¶ï¼Œæ˜¯ä¸€ä¸ªpythonç¨‹åº</p>
<p>allure-pytest &gt; æ•°æ®æ–‡ä»¶ &gt; allure &gt; æµ‹è¯•æŠ¥å‘Š</p>
<h3 id="1-æ­å»ºallureç¯å¢ƒ"><a href="#1-æ­å»ºallureç¯å¢ƒ" class="headerlink" title="1. æ­å»ºallureç¯å¢ƒ"></a>1. æ­å»ºallureç¯å¢ƒ</h3><ol>
<li>JDK</li>
</ol>
<p>â€‹	ä¸‹è½½åœ°å€ï¼š<a target="_blank" rel="noopener" href="https://www.oracle.com/java/technologies/downloads/#jdk17-windows">https://www.oracle.com/java/technologies/downloads/#jdk17-windows</a></p>
<p>â€‹	å®‰è£…ï¼šåŒå‡»è¿è¡Œã€å®‰è£…ã€é‡å¯<br>â€‹	ç‰ˆæœ¬ï¼šå»ºè®® JDK 17+</p>
<p>â€‹	éªŒè¯ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">java --version</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>allureæºç¨‹åº</li>
</ol>
<p>â€‹	ä¸‹è½½åœ°å€ï¼š<a target="_blank" rel="noopener" href="https://github.com/allure-framework/allure2/releases">https://github.com/allure-framework/allure2/releases</a></p>
<p>â€‹	è§£å‹ï¼šE:\abc\allure-2.24.1\allure-2.24.1\bin</p>
<p>â€‹	ä¿®æ”¹ç¯å¢ƒå˜é‡ï¼šPATH</p>
<p>â€‹	éªŒè¯ï¼šallure<br>â€‹	E:\abc\allure-2.24.1\allure-2.24.1\bin\allure</p>
<h3 id="2-ç”Ÿæˆä¼ä¸šçº§æµ‹è¯•æŠ¥å‘Š"><a href="#2-ç”Ÿæˆä¼ä¸šçº§æµ‹è¯•æŠ¥å‘Š" class="headerlink" title="2. ç”Ÿæˆä¼ä¸šçº§æµ‹è¯•æŠ¥å‘Š"></a>2. ç”Ÿæˆä¼ä¸šçº§æµ‹è¯•æŠ¥å‘Š</h3><p>generate  æ ¹æ®æ•°æ®ç”ŸæˆHTMLæŠ¥å‘Š<br>open  æ‰“å¼€ç”Ÿæˆçš„HTMLæŠ¥å‘Š<br>serve  ç”Ÿæˆå¹¶æ‰“å¼€HTMLæŠ¥å‘Š</p>
<p>serve &#x3D; generate + open</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">E:\abc\allure-2.24.1\allure-2.24.1\bin\allure generate -o report temps # æ ¹æ®æ•°æ®ç”ŸæˆHTMLæŠ¥å‘Š</span><br><span class="line">E:\abc\allure-2.24.1\allure-2.24.1\bin\allure open report # æ‰“å¼€ç”Ÿæˆçš„HTMLæŠ¥å‘Š</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">allure generate -o report temps # æ ¹æ®æ•°æ®ç”ŸæˆHTMLæŠ¥å‘Š</span><br><span class="line">allure open report # æ‰“å¼€ç”Ÿæˆçš„HTMLæŠ¥å‘Š</span><br></pre></td></tr></table></figure>

<h3 id="3-å®šåˆ¶æŠ¥å‘Šå†…å®¹"><a href="#3-å®šåˆ¶æŠ¥å‘Šå†…å®¹" class="headerlink" title="3. å®šåˆ¶æŠ¥å‘Šå†…å®¹"></a>3. å®šåˆ¶æŠ¥å‘Šå†…å®¹</h3><h4 id="1-åŠŸèƒ½åˆ†ç»„"><a href="#1-åŠŸèƒ½åˆ†ç»„" class="headerlink" title="1. åŠŸèƒ½åˆ†ç»„"></a>1. åŠŸèƒ½åˆ†ç»„</h4><p>é€šè¿‡è£…é¥°å™¨ï¼Œå¯¹ç”¨ä¾‹è¿›è¡Œåˆ†ç»„</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@allure.epic</span></span><br><span class="line"><span class="meta">@allure.feature</span></span><br><span class="line"><span class="meta">@allure.story</span></span><br><span class="line"><span class="meta">@allure.title</span></span><br></pre></td></tr></table></figure>

<p>æ•æ·å¼€å‘çš„æ°´è¯­ï¼š</p>
<ul>
<li>epic å²è¯— äº§å“å¤§æ–¹å‘</li>
<li>feature ä¸»é¢˜ åŠŸèƒ½æ¨¡å—</li>
<li>story æ•…äº‹ ç”¨æˆ·åœºæ™¯</li>
<li>title æ ‡é¢˜ å…·ä½“æµ‹è¯•ç‚¹</li>
</ul>
<p>allureä»…å»ºç«‹è¡Œä¸ºå±‚æ¬¡ç»“æ„ï¼ˆå¦ä¸€ç§æ˜¯åŸºäºå¥—ä»¶ï¼‰</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@allure.epic(<span class="params"><span class="string">&#x27;ç å‰è‡ªåŠ¨åŒ–æµ‹è¯•é¡¹ç›®&#x27;</span></span>)</span></span><br><span class="line"><span class="meta">@allure.feature(<span class="params"><span class="string">&#x27;æ¨¡å—A&#x27;</span></span>)</span></span><br><span class="line"><span class="meta">@allure.story(<span class="params"><span class="string">&#x27;æ–‡ä»¶ä¸Šä¼ åŠŸèƒ½&#x27;</span></span>)</span></span><br><span class="line"><span class="meta">@allure.title(<span class="params"><span class="string">&#x27;ä¸Šä¼ å¤±è´¥&#x27;</span></span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">test_abc</span>():</span><br><span class="line">    logger.info(<span class="string">&#x27;11111&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="meta">@allure.epic(<span class="params"><span class="string">&#x27;ç å‰è‡ªåŠ¨åŒ–æµ‹è¯•é¡¹ç›®&#x27;</span></span>)</span></span><br><span class="line"><span class="meta">@allure.feature(<span class="params"><span class="string">&#x27;æ¨¡å—A&#x27;</span></span>)</span></span><br><span class="line"><span class="meta">@allure.story(<span class="params"><span class="string">&#x27;æ–‡ä»¶ä¸Šä¼ åŠŸèƒ½&#x27;</span></span>)</span></span><br><span class="line"><span class="meta">@allure.title(<span class="params"><span class="string">&#x27;ä¸Šä¼ æˆåŠŸ&#x27;</span></span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">test_baa</span>():</span><br><span class="line">    logger.info(<span class="string">&#x27;22222&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="meta">@allure.epic(<span class="params"><span class="string">&#x27;ç å‰è‡ªåŠ¨åŒ–æµ‹è¯•é¡¹ç›®&#x27;</span></span>)</span></span><br><span class="line"><span class="meta">@allure.feature(<span class="params"><span class="string">&#x27;æ¨¡å—B&#x27;</span></span>)</span></span><br><span class="line"><span class="meta">@allure.story(<span class="params"><span class="string">&#x27;å……å€¼ä½“ç°åŠŸèƒ½&#x27;</span></span>)</span></span><br><span class="line"><span class="meta">@allure.title(<span class="params"><span class="string">&#x27;å……å€¼æˆåŠŸ&#x27;</span></span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">test_bbc</span>():</span><br><span class="line">    logger.info(<span class="string">&#x27;444444&#x27;</span>)</span><br></pre></td></tr></table></figure>

<h4 id="2-è‡ªå®šä¹‰logo"><a href="#2-è‡ªå®šä¹‰logo" class="headerlink" title="2. è‡ªå®šä¹‰logo"></a>2. è‡ªå®šä¹‰logo</h4><ol>
<li><p>ç¡®å®šæ’ä»¶çš„åç§° <code>custom-logo-plugin</code></p>
</li>
<li><p>ä¿®æ”¹é…ç½®æ–‡ä»¶: â€œE:\abc\allure-2.24.l\allure-2.24.l\config\allure.ymlâ€</p>
</li>
<li><p>åŠ å…¥æ–°çš„æ’ä»¶åç§°ï¼Œå¯ç”¨æ’ä»¶</p>
</li>
<li><p>åœ¨æ’ä»¶ä¸­ä¿®æ”¹logo:<br> â€œE:\abc\allure-2.24.l\allure-2.24.l\plugins\custom-logo-plugin\static\styles.cssâ€</p>
</li>
</ol>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.side-nav__brand</span>&#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">&#x27;logo.png&#x27;</span>) no-repeat left center <span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">margin-left</span>: <span class="number">22px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">90px</span>;</span><br><span class="line">    <span class="attribute">background-size</span>: contain <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.side-nav__brand-text</span>&#123;</span><br><span class="line">    <span class="attribute">display</span>: none;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="ä¸‰ã€æ¥å£è‡ªåŠ¨åŒ–åŸºç¡€ä¹‹Pytestæ¡†æ¶ä¹‹YAMLè¯¦è§£ä»¥åŠParametrizeæ•°æ®é©±åŠ¨-day15"><a href="#ä¸‰ã€æ¥å£è‡ªåŠ¨åŒ–åŸºç¡€ä¹‹Pytestæ¡†æ¶ä¹‹YAMLè¯¦è§£ä»¥åŠParametrizeæ•°æ®é©±åŠ¨-day15" class="headerlink" title="ä¸‰ã€æ¥å£è‡ªåŠ¨åŒ–åŸºç¡€ä¹‹Pytestæ¡†æ¶ä¹‹YAMLè¯¦è§£ä»¥åŠParametrizeæ•°æ®é©±åŠ¨(day15)"></a>ä¸‰ã€æ¥å£è‡ªåŠ¨åŒ–åŸºç¡€ä¹‹Pytestæ¡†æ¶ä¹‹YAMLè¯¦è§£ä»¥åŠParametrizeæ•°æ®é©±åŠ¨(day15)</h1><h2 id="1-YAMLè¯­æ³•è¯¦è§£"><a href="#1-YAMLè¯­æ³•è¯¦è§£" class="headerlink" title="1. YAMLè¯­æ³•è¯¦è§£"></a>1. YAMLè¯­æ³•è¯¦è§£</h2><p>YAMLæ˜¯ä¸€ä¸ªå®Œå…¨å…¼å®¹JSONçš„æ•°æ®æ ¼å¼ã€‚</p>
<p><strong>é‡ç‚¹ï¼š</strong>  </p>
<ol>
<li><strong>YAMLå®Œå…¨å…¼å®¹JSON</strong>  </li>
<li>YAMLå’ŒJSONä¸€æ ·ï¼Œæ˜¯æ•°æ®ï¼Œä¸æ˜¯è¯­å¥  </li>
<li>åºåˆ—åŒ–ï¼šå°†ç¼–ç¨‹è¯­è¨€ä¸­çš„æ•°æ®è½¬ä¸ºæ–‡ä»¶  </li>
<li>ååºåˆ—åŒ–ï¼šå°†æ–‡ä»¶ä¸­çš„å†…å®¹è½¬ä¸ºç¼–ç¨‹è¯­è¨€ä¸­çš„æ•°æ®  </li>
<li><strong>æ–‡æœ¬æ–‡ä»¶ï¼š</strong> å¯ä»¥ä½¿ç”¨è®°äº‹æœ¬ä¹‹ç±»çš„å·¥å…·è¿›è¡Œåˆ›å»ºã€ç¼–è¾‘</li>
</ol>
<p><strong>YAMLä¼˜ç‚¹ï¼š</strong>  </p>
<ol>
<li>ç»“æ„æ›´åŠ æ¸…æ™°  </li>
<li>è¯­æ³•æ›´åŠ ç®€æ´ï¼Œæ”¯æŒæ³¨é‡Š  </li>
<li>å’ŒPythoné£æ ¼ç›¸ä¼¼</li>
</ol>
<h3 id="1-åºåˆ—åŒ–ï¼šPythonè½¬YAML"><a href="#1-åºåˆ—åŒ–ï¼šPythonè½¬YAML" class="headerlink" title="1. åºåˆ—åŒ–ï¼šPythonè½¬YAML"></a>1. åºåˆ—åŒ–ï¼šPythonè½¬YAML</h3><p><strong>å°†Pythonæ•°æ®è½¬ä¸ºJSONæ–‡ä»¶ï¼š</strong>  </p>
<p><a target="_blank" rel="noopener" href="https://tw.unicodery.com/5b57.html">https://tw.unicodery.com/5b57.html</a></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">data = &#123;</span><br><span class="line">    <span class="string">&quot;æ•°å­—&quot;</span>: [<span class="number">1</span>, -<span class="number">1</span>, <span class="number">1.2</span>],</span><br><span class="line">    <span class="string">&quot;å­—ç¬¦ä¸²&quot;</span>: [<span class="string">&quot;1&quot;</span>, <span class="string">&#x27;-1&#x27;</span>, <span class="string">&quot;&quot;&quot;1.2&quot;&quot;&quot;</span>],</span><br><span class="line">    <span class="string">&quot;å¸ƒå°”å€¼&quot;</span>: [<span class="literal">True</span>, <span class="literal">False</span>],</span><br><span class="line">    <span class="string">&quot;ç©ºå€¼&quot;</span>: <span class="literal">None</span>,</span><br><span class="line">    <span class="string">&#x27;åˆ—è¡¨&#x27;</span>: [[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], [-<span class="number">1</span>, -<span class="number">2</span>, -<span class="number">3</span>]],</span><br><span class="line">    <span class="string">&quot;å­—å…¸&quot;</span>: [&#123;<span class="string">&quot;a&quot;</span>: <span class="number">1</span>&#125;, &#123;<span class="string">&quot;b&quot;</span>: <span class="number">2</span>&#125;],</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"></span><br><span class="line">s = json.dumps(data, ensure_ascii=<span class="literal">False</span>)  <span class="comment"># Pythonè½¬JSONå­—ç¬¦ä¸²,ä¸”ä¸å°†é ASCII å­—ç¬¦è½¬ä¹‰ä¸º Unicode è½¬ä¹‰åºåˆ—</span></span><br><span class="line"><span class="comment">#dumpsæ˜¯ä»å­—ç¬¦ä¸²ä¸­åŠ è½½æ•°æ®ï¼Œdumpæ˜¯ä»æ–‡ä»¶ä¸­åŠ è½½æ•°æ®</span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;data.json&quot;</span>, <span class="string">&quot;w&quot;</span>, encoding=<span class="string">&quot;utf-8&quot;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    f.write(s)  <span class="comment"># åˆ›å»ºJSONæ–‡ä»¶</span></span><br></pre></td></tr></table></figure>

<p><strong>å°†Pythonæ•°æ®è½¬ä¸ºYAMLæ–‡ä»¶ï¼š</strong>  </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install pyyaml</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">data = &#123;</span><br><span class="line">    <span class="string">&quot;æ•°å­—&quot;</span>: [<span class="number">1</span>, -<span class="number">1</span>, <span class="number">1.2</span>],</span><br><span class="line">    <span class="string">&quot;å­—ç¬¦ä¸²&quot;</span>: [<span class="string">&quot;1&quot;</span>, <span class="string">&#x27;-1&#x27;</span>, <span class="string">&quot;&quot;&quot;1.2&quot;&quot;&quot;</span>],</span><br><span class="line">    <span class="string">&quot;å¸ƒå°”å€¼&quot;</span>: [<span class="literal">True</span>, <span class="literal">False</span>],</span><br><span class="line">    <span class="string">&quot;ç©ºå€¼&quot;</span>: <span class="literal">None</span>,</span><br><span class="line">    <span class="string">&#x27;åˆ—è¡¨&#x27;</span>: [[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], [-<span class="number">1</span>, -<span class="number">2</span>, -<span class="number">3</span>]],</span><br><span class="line">    <span class="string">&quot;å­—å…¸&quot;</span>: [&#123;<span class="string">&quot;a&quot;</span>: <span class="number">1</span>&#125;, &#123;<span class="string">&quot;b&quot;</span>: <span class="number">2</span>&#125;],</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> yaml</span><br><span class="line"></span><br><span class="line">s = yaml.safe_dump(data, allow_unicode=<span class="literal">True</span>, sort_keys=<span class="literal">False</span>)  <span class="comment"># Pythonè½¬YAMLå­—ç¬¦ä¸²</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;data.yaml&quot;</span>, <span class="string">&quot;w&quot;</span>, encoding=<span class="string">&quot;utf-8&quot;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    f.write(s)  <span class="comment"># åˆ›å»ºYAMLæ–‡ä»¶</span></span><br></pre></td></tr></table></figure>

<h3 id="2-ååºåˆ—åŒ–ï¼šYAMLè½¬Python"><a href="#2-ååºåˆ—åŒ–ï¼šYAMLè½¬Python" class="headerlink" title="2. ååºåˆ—åŒ–ï¼šYAMLè½¬Python"></a>2. ååºåˆ—åŒ–ï¼šYAMLè½¬Python</h3><p><strong>å°†JSONè½¬ä¸ºPythonï¼š</strong>  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> json</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;data.json&quot;</span>, encoding=<span class="string">&quot;utf-8&quot;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    s = f.read()  <span class="comment"># å¾—åˆ°å­—ç¬¦ä¸²</span></span><br><span class="line">    data_json = json.loads(s)  <span class="comment"># å¾—åˆ°æ•°æ®</span></span><br><span class="line"><span class="comment">#loadsæ˜¯ä»å­—ç¬¦ä¸²ä¸­åŠ è½½æ•°æ®ï¼Œloadæ˜¯ä»æ–‡ä»¶ä¸­åŠ è½½æ•°æ®</span></span><br><span class="line"><span class="built_in">print</span>(data_json)  <span class="comment"># Pythonæ•°æ®</span></span><br></pre></td></tr></table></figure>

<p><strong>å°†YAMLè½¬ä¸ºPythonï¼š</strong>  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> yaml</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;data.yaml&quot;</span>, encoding=<span class="string">&quot;utf-8&quot;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    s = f.read()  <span class="comment"># å¾—åˆ°å­—ç¬¦ä¸²</span></span><br><span class="line">    data_yaml = yaml.safe_load(s)  <span class="comment"># å¾—åˆ°æ•°æ®ï¼ˆå®‰å…¨åŠ è½½ï¼‰</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(data_yaml)  <span class="comment"># Pythonæ•°æ®</span></span><br></pre></td></tr></table></figure>

<h3 id="3-YAMLç‰¹è‰²"><a href="#3-YAMLç‰¹è‰²" class="headerlink" title="3. YAMLç‰¹è‰²"></a>3. YAMLç‰¹è‰²</h3><ol>
<li>å®Œå…¨å…¼å®¹JSON  </li>
<li>æ”¯æŒæ³¨é‡Šï¼ˆä½¿ç”¨<code>#</code>ï¼‰  </li>
<li>æˆå‘˜é€šè¿‡ç¬¦å·è¡¨ç¤ºï¼š  <ul>
<li><code>-</code>ï¼šè¡¨ç¤ºåˆ—è¡¨ï¼ˆæ•°ç»„ï¼‰æˆå‘˜  </li>
<li><code>:</code>ï¼šè¡¨ç¤ºå­—å…¸ï¼ˆå¯¹è±¡ï¼‰æˆå‘˜</li>
</ul>
</li>
<li>é€šè¿‡ç¼©è¿›ï¼ˆ2ä¸ªç©ºæ ¼ï¼‰è¡¨ç¤ºå±‚çº§ï¼ˆPythonä½¿ç”¨4ä¸ªç©ºæ ¼ï¼‰  </li>
<li>è‡ªåŠ¨å¤„ç†ç±»å‹  </li>
<li>æ”¯æŒå¼ºåˆ¶æŒ‡å®šç±»å‹</li>
</ol>
<hr>
<h2 id="2-pytest-YAMLå®ç°æ•°æ®é©±åŠ¨æµ‹è¯•"><a href="#2-pytest-YAMLå®ç°æ•°æ®é©±åŠ¨æµ‹è¯•" class="headerlink" title="2. pytest + YAMLå®ç°æ•°æ®é©±åŠ¨æµ‹è¯•"></a>2. pytest + YAMLå®ç°æ•°æ®é©±åŠ¨æµ‹è¯•</h2><p>æ•°æ®é©±åŠ¨æµ‹è¯•ï¼ˆData Driver Testï¼‰&#x3D; å‚æ•°åŒ–æµ‹è¯•ï¼ˆpytestå†…ç½®æ ‡è®°ï¼‰+ æ•°æ®æ–‡ä»¶ï¼ˆYAMLã€JSONï¼‰</p>
<h3 id="1-å‚æ•°åŒ–æµ‹è¯•ç”¨ä¾‹"><a href="#1-å‚æ•°åŒ–æµ‹è¯•ç”¨ä¾‹" class="headerlink" title="1. å‚æ•°åŒ–æµ‹è¯•ç”¨ä¾‹"></a>1. å‚æ•°åŒ–æµ‹è¯•ç”¨ä¾‹</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pytest</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">add</span>(<span class="params">a, b</span>):</span><br><span class="line">    <span class="keyword">return</span> a + b</span><br><span class="line"></span><br><span class="line"><span class="meta">@pytest.mark.parametrize(<span class="params"></span></span></span><br><span class="line"><span class="params"><span class="meta">    <span class="string">&quot;a, b, c&quot;</span>,</span></span></span><br><span class="line"><span class="params"><span class="meta">    [</span></span></span><br><span class="line"><span class="params"><span class="meta">        (<span class="params"><span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span></span>),</span></span></span><br><span class="line"><span class="params"><span class="meta">        (<span class="params"><span class="number">2</span>, <span class="number">2</span>, <span class="number">4</span></span>),</span></span></span><br><span class="line"><span class="params"><span class="meta">        (<span class="params"><span class="number">3</span>, <span class="number">3</span>, <span class="number">6</span></span>),</span></span></span><br><span class="line"><span class="params"><span class="meta">    ]</span></span></span><br><span class="line"><span class="params"><span class="meta"></span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">test_add</span>(<span class="params">a, b, c</span>):</span><br><span class="line">    <span class="keyword">assert</span> add(a, b) == c</span><br></pre></td></tr></table></figure>

<h3 id="2-æ•°æ®å†…å®¹å§”æ‰˜åˆ°ç‹¬ç«‹æ–‡ä»¶"><a href="#2-æ•°æ®å†…å®¹å§”æ‰˜åˆ°ç‹¬ç«‹æ–‡ä»¶" class="headerlink" title="2. æ•°æ®å†…å®¹å§”æ‰˜åˆ°ç‹¬ç«‹æ–‡ä»¶"></a>2. æ•°æ®å†…å®¹å§”æ‰˜åˆ°ç‹¬ç«‹æ–‡ä»¶</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pytest</span><br><span class="line"><span class="keyword">import</span> yaml</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">add</span>(<span class="params">a, b</span>):</span><br><span class="line">    <span class="keyword">return</span> a + b</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;ddt_data.yaml&quot;</span>, encoding=<span class="string">&quot;utf-8&quot;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    s = f.read()  <span class="comment"># å­—ç¬¦ä¸²</span></span><br><span class="line">    data_yaml = yaml.safe_load(s)  <span class="comment"># æ•°æ®</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@pytest.mark.parametrize(<span class="params"></span></span></span><br><span class="line"><span class="params"><span class="meta">    <span class="string">&quot;a, b, c&quot;</span>,</span></span></span><br><span class="line"><span class="params"><span class="meta">    data_yaml</span></span></span><br><span class="line"><span class="params"><span class="meta"></span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">test_add</span>(<span class="params">a, b, c</span>):</span><br><span class="line">    <span class="keyword">assert</span> add(a, b) == c</span><br><span class="line"><span class="comment">#åŒæ ·çš„ä»£ç ï¼ŒåŒæ ·çš„å˜é‡åï¼Œä¸ä¼šäº’ç›¸å½±å“    </span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;data.yaml&quot;</span>, encoding=<span class="string">&quot;utf-8&quot;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    s = f.read() <span class="comment"># å­—ç¬¦ä¸²</span></span><br><span class="line">	data_yaml = yaml.safe_load(s) <span class="comment"># æ•°æ®</span></span><br><span class="line"><span class="meta">@pytest.mark.parametrize(<span class="params"></span></span></span><br><span class="line"><span class="params"><span class="meta">	<span class="string">&quot;s&quot;</span>,</span></span></span><br><span class="line"><span class="params"><span class="meta">	data_yaml</span></span></span><br><span class="line"><span class="params"><span class="meta"></span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">test_add_str</span>(<span class="params">s</span>):</span><br><span class="line">	<span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<p><strong>YAMLæ–‡ä»¶å†…å®¹ï¼ˆddt_data.yamlï¼‰ï¼š</strong>  </p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">-</span> [<span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>]</span><br><span class="line"><span class="bullet">-</span> [<span class="number">2</span>, <span class="number">2</span>, <span class="number">4</span>]</span><br><span class="line"><span class="bullet">-</span> [<span class="number">3</span>, <span class="number">3</span>, <span class="number">6</span>]</span><br><span class="line"><span class="bullet">-</span> [<span class="string">a</span>, <span class="string">b</span>, <span class="string">c</span>]</span><br><span class="line"><span class="bullet">-</span> [<span class="string">a</span>, <span class="number">1</span>, <span class="number">2</span>]</span><br></pre></td></tr></table></figure>

<hr>
<h3 id="3-è‡ªåŠ¨åŒ–æµ‹è¯•æ¡†æ¶ç»“æ„"><a href="#3-è‡ªåŠ¨åŒ–æµ‹è¯•æ¡†æ¶ç»“æ„" class="headerlink" title="3. è‡ªåŠ¨åŒ–æµ‹è¯•æ¡†æ¶ç»“æ„"></a>3. è‡ªåŠ¨åŒ–æµ‹è¯•æ¡†æ¶ç»“æ„</h3><p>pytestæ˜¯é€šç”¨çš„æµ‹è¯•æ¡†æ¶ï¼Œé€‚ç”¨äºï¼š  </p>
<ul>
<li>ç™½ç›’æµ‹è¯•  </li>
<li>å•å…ƒæµ‹è¯•  </li>
<li>é›†æˆæµ‹è¯•  </li>
<li>é»‘ç›’æµ‹è¯•ï¼ˆAPIã€Webã€Appï¼‰</li>
</ul>
<p><strong>æ–‡ä»¶è·¯å¾„è·å–ï¼š</strong>  </p>
<p><img src="https://cdn.jsdelivr.net/gh/SereinCease/images/blog/2025-06-30/20250630121339-ddcff7.png"></p>
<p><img src="https://cdn.jsdelivr.net/gh/SereinCease/images/blog/2025-06-30/20250630121506-795a4e.png"></p>
<h2 id="é€šç”¨çš„é»‘ç›’æµ‹è¯•æ¡†æ¶ï¼š"><a href="#é€šç”¨çš„é»‘ç›’æµ‹è¯•æ¡†æ¶ï¼š" class="headerlink" title="é€šç”¨çš„é»‘ç›’æµ‹è¯•æ¡†æ¶ï¼š"></a>é€šç”¨çš„é»‘ç›’æµ‹è¯•æ¡†æ¶ï¼š</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">commons/      # å¸¸ç”¨ä»£ç ç›®å½•</span><br><span class="line">data/         # æ•°æ®ç›®å½•</span><br><span class="line">logs/         # æ—¥å¿—ç›®å½•</span><br><span class="line">report/       # æµ‹è¯•æŠ¥å‘Šç›®å½•</span><br><span class="line">temps/        # allureä¸´æ—¶æ•°æ®ç›®å½•</span><br><span class="line">tests/        # æµ‹è¯•ç”¨ä¾‹ç›®å½•</span><br><span class="line">conftest.py   # pyteståŠ¨æ€é…ç½®ã€å…±äº«fixture</span><br><span class="line">pytest.ini    # é…ç½®æ–‡ä»¶</span><br><span class="line">run.py        # æ¡†æ¶å¯åŠ¨æ–‡ä»¶</span><br></pre></td></tr></table></figure>

<h3 id="ç›¸å…³é…ç½®æ–‡ä»¶"><a href="#ç›¸å…³é…ç½®æ–‡ä»¶" class="headerlink" title="ç›¸å…³é…ç½®æ–‡ä»¶"></a>ç›¸å…³é…ç½®æ–‡ä»¶</h3><p>run.py</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pytest</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line">pytest.main()  <span class="comment"># å¯åŠ¨æµ‹è¯•æ¡†æ¶, è‡ªåŠ¨ç”Ÿæˆallureæ•°æ®</span></span><br><span class="line">os.system(<span class="string">&#x27;allure generate -c -o report  temps&#x27;</span>)  <span class="comment"># æ‰‹åŠ¨ç”ŸæˆallureæŠ¥å‘Š</span></span><br></pre></td></tr></table></figure>

<p><code>pytest.ini</code></p>
<figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[pytest]</span></span><br><span class="line"></span><br><span class="line"><span class="attr">addopts</span> =  -s -v --alluredir=./temps --clean-alluredir  tests/homework/test_<span class="number">2_1</span>.py  </span><br><span class="line"></span><br><span class="line"><span class="attr">markers</span> =</span><br><span class="line">  api</span><br><span class="line">  ui</span><br><span class="line">  ut</span><br><span class="line">  e2e</span><br><span class="line"></span><br><span class="line"><span class="attr">log_file</span> = ./logs/pytest.log</span><br><span class="line"><span class="attr">log_file_level</span> = info</span><br><span class="line"><span class="attr">log_file_format</span> = %(levelname)-<span class="number">8</span>s %(asctime)s [%(name)s:%(line<span class="literal">no</span>)s]  : %(message)s</span><br><span class="line"><span class="attr">log_file_date_format</span>  = %Y-%m-%d %H:%M:%S</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">; è®°å½•ç”¨ä¾‹æ‰§è¡Œç»“æœ</span></span><br><span class="line"><span class="attr">result_log_enable</span> = <span class="number">1</span></span><br><span class="line"><span class="comment">; è®°å½•ç”¨ä¾‹åˆ†å‰²çº¿</span></span><br><span class="line"><span class="attr">result_log_separator</span> = <span class="number">1</span></span><br><span class="line"><span class="comment">;åˆ†å‰²çº¿ç­‰çº§</span></span><br><span class="line"><span class="attr">result_log_level_separator</span>  = warning</span><br><span class="line"><span class="comment">;å¼‚å¸¸ä¿¡æ¯ç­‰çº§</span></span><br><span class="line"><span class="attr">result_log_level_verbose</span> = info</span><br><span class="line"></span><br><span class="line"><span class="attr">disable_test_id_escaping_and_forfeit_all_rights_to_community_support</span> = <span class="number">1</span></span><br></pre></td></tr></table></figure>

<h3 id="1-å®‰è£…ä¾èµ–"><a href="#1-å®‰è£…ä¾èµ–" class="headerlink" title="1.å®‰è£…ä¾èµ–"></a>1.å®‰è£…ä¾èµ–</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install -r req.txt</span><br></pre></td></tr></table></figure>

<p><code>req.txt</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">webdriver-helper==1.*</span><br><span class="line">pytest</span><br><span class="line">pytest-result-log</span><br><span class="line">pytest-yaml-sanmu</span><br><span class="line">pytest-xlsx</span><br><span class="line">allure-pytest</span><br></pre></td></tr></table></figure>

<h4 id="å°†å¸¸ç”¨åŒ…æ‰“åŒ…æˆ-requirements-txt"><a href="#å°†å¸¸ç”¨åŒ…æ‰“åŒ…æˆ-requirements-txt" class="headerlink" title="å°†å¸¸ç”¨åŒ…æ‰“åŒ…æˆ requirements.txt"></a>å°†å¸¸ç”¨åŒ…æ‰“åŒ…æˆ requirements.txt</h4><p>å¦‚æœä½ å¸Œæœ›ä¿æŒæ¯ä¸ªé¡¹ç›®ç‹¬ç«‹ï¼Œä½†åˆä¸æƒ³æ‰‹åŠ¨ä¸€ä¸ªä¸ªå®‰è£…ä¾èµ–ï¼Œå¯ä»¥ï¼š</p>
<p>åœ¨åŸé¡¹ç›®ä¸­å¯¼å‡ºä¾èµ–ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip freeze &gt; requirements.txt</span><br></pre></td></tr></table></figure>

<p>æ–°å»ºé¡¹ç›®åï¼Œåœ¨ç»ˆç«¯è¿è¡Œï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install -r requirements.txt</span><br></pre></td></tr></table></figure>

<p>è¿™æ ·å°±èƒ½å¿«é€Ÿæ¢å¤æ‰€æœ‰ä¾èµ–ã€‚</p>
<h3 id="2-å¯åŠ¨æ¡†æ¶"><a href="#2-å¯åŠ¨æ¡†æ¶" class="headerlink" title="2.å¯åŠ¨æ¡†æ¶"></a>2.å¯åŠ¨æ¡†æ¶</h3><p>æ‰§è¡Œ<code>run.py</code>æ–‡ä»¶æˆ–ä½¿ç”¨<code>pytest</code></p>
<h3 id="3-æŸ¥çœ‹æ—¥å¿—"><a href="#3-æŸ¥çœ‹æ—¥å¿—" class="headerlink" title="3.æŸ¥çœ‹æ—¥å¿—"></a>3.æŸ¥çœ‹æ—¥å¿—</h3><h3 id="4-æŸ¥çœ‹æŠ¥å‘Š"><a href="#4-æŸ¥çœ‹æŠ¥å‘Š" class="headerlink" title="4.æŸ¥çœ‹æŠ¥å‘Š"></a>4.æŸ¥çœ‹æŠ¥å‘Š</h3></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>æ–‡ç« ä½œè€…: </span><span class="post-copyright-info"><a href="https://sereincease.github.io">Sereincease</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>æ–‡ç« é“¾æ¥: </span><span class="post-copyright-info"><a href="https://sereincease.github.io/2025/06/29/%E6%8E%A5%E5%8F%A3%E8%87%AA%E5%8A%A8%E5%8C%96%E5%9F%BA%E7%A1%80%E4%B9%8Bpytest/">https://sereincease.github.io/2025/06/29/%E6%8E%A5%E5%8F%A3%E8%87%AA%E5%8A%A8%E5%8C%96%E5%9F%BA%E7%A1%80%E4%B9%8Bpytest/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>ç‰ˆæƒå£°æ˜: </span><span class="post-copyright-info">æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜æ¥è‡ª <a href="https://sereincease.github.io" target="_blank">Sereincease's Blog</a>ï¼</span></div></div><div class="tag_share"><div class="post-meta__tag-list"></div><div class="post_share"><div class="social-share" data-image="https://cdn.jsdelivr.net/gh/SereinCease/images/blog/2024-01-28/202201191305988-30aa3e.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2025/06/30/requests%E6%A1%86%E6%9E%B6%E7%AC%94%E8%AE%B0/" title="requestsæ¡†æ¶ç¬”è®°"><img class="cover" src="https://cdn.jsdelivr.net/gh/SereinCease/images/blog/2024-01-28/202201191305988-30aa3e.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">ä¸Šä¸€ç¯‡</div><div class="prev_info">requestsæ¡†æ¶ç¬”è®°</div></div></a></div><div class="next-post pull-right"><a href="/2025/06/11/%E6%8E%A5%E5%8F%A3%E6%B5%8B%E8%AF%95%E5%B7%A5%E5%85%B7/" title="æ¥å£æµ‹è¯•å·¥å…·ç¬”è®°"><img class="cover" src="https://cdn.jsdelivr.net/gh/SereinCease/images/blog/2024-01-28/202201191305988-30aa3e.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">ä¸‹ä¸€ç¯‡</div><div class="next_info">æ¥å£æµ‹è¯•å·¥å…·ç¬”è®°</div></div></a></div></nav><hr class="custom-hr"/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> è¯„è®º</span></div></div><div class="comment-wrap"><div><div id="giscus-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://cdn.jsdelivr.net/gh/SereinCease/images/blog/2024-01-27/202201191302974%20-1--c8fc4e.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Sereincease</div><div class="author-info__description">Sereinceaseçš„ä¸ªäººåšå®¢</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">16</div></a><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length-num">7</div></a><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length-num">5</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com//SereinCease"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>å…¬å‘Š</span></div><div class="announcement_content">Welcome to SereinCease's Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>ç›®å½•</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E6%8E%A5%E5%8F%A3%E8%87%AA%E5%8A%A8%E5%8C%96%E5%9F%BA%E7%A1%80%E4%B9%8Bpytest%E6%A1%86%E6%9E%B6%E7%94%A8%E6%B3%95%E3%80%81%E8%A7%84%E5%88%99%E3%80%81%E9%85%8D%E7%BD%AE%E3%80%81%E6%A0%87%E8%AE%B0-day13"><span class="toc-number">1.</span> <span class="toc-text">ä¸€ã€æ¥å£è‡ªåŠ¨åŒ–åŸºç¡€ä¹‹pytestæ¡†æ¶ç”¨æ³•ã€è§„åˆ™ã€é…ç½®ã€æ ‡è®°(day13)</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E4%BB%80%E4%B9%88%E6%98%AF%E6%B5%8B%E8%AF%95%E6%A1%86%E6%9E%B6"><span class="toc-number">1.1.</span> <span class="toc-text">1. ä»€ä¹ˆæ˜¯æµ‹è¯•æ¡†æ¶</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-pytest%E6%B5%8B%E8%AF%95%E6%A1%86%E6%9E%B6"><span class="toc-number">1.2.</span> <span class="toc-text">2. pytestæµ‹è¯•æ¡†æ¶</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%AE%89%E8%A3%85pytest"><span class="toc-number">1.2.1.</span> <span class="toc-text">1. å®‰è£…pytest</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E7%BC%96%E5%86%99%E6%B5%8B%E8%AF%95%E7%94%A8%E4%BE%8B"><span class="toc-number">1.2.2.</span> <span class="toc-text">2. ç¼–å†™æµ‹è¯•ç”¨ä¾‹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E6%89%A7%E8%A1%8C%E6%B5%8B%E8%AF%95%E7%94%A8%E4%BE%8B"><span class="toc-number">1.2.3.</span> <span class="toc-text">3. æ‰§è¡Œæµ‹è¯•ç”¨ä¾‹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E7%9C%8B%E6%87%82%E6%89%A7%E8%A1%8C%E7%BB%93%E6%9E%9C"><span class="toc-number">1.2.4.</span> <span class="toc-text">4. çœ‹æ‡‚æ‰§è¡Œç»“æœ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-%E7%94%A8%E4%BE%8B%E5%8F%91%E7%8E%B0%E8%A7%84%E5%88%99"><span class="toc-number">1.2.5.</span> <span class="toc-text">5. ç”¨ä¾‹å‘ç°è§„åˆ™</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-pytest%E9%AB%98%E7%BA%A7%E7%94%A8%E6%B3%95"><span class="toc-number">1.3.</span> <span class="toc-text">3. pytesté«˜çº§ç”¨æ³•</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E9%85%8D%E7%BD%AE"><span class="toc-number">1.3.1.</span> <span class="toc-text">1. é…ç½®</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E6%A0%87%E8%AE%B0mark"><span class="toc-number">1.3.2.</span> <span class="toc-text">2. æ ‡è®°mark</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E7%94%A8%E6%88%B7%E8%87%AA%E5%AE%9A%E4%B9%89%E6%A0%87%E8%AE%B0"><span class="toc-number">1.3.2.1.</span> <span class="toc-text">1. ç”¨æˆ·è‡ªå®šä¹‰æ ‡è®°</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E6%A1%86%E6%9E%B6%E5%86%85%E7%BD%AE%E6%A0%87%E8%AE%B0"><span class="toc-number">1.3.2.2.</span> <span class="toc-text">2. æ¡†æ¶å†…ç½®æ ‡è®°</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E5%8F%82%E6%95%B0%E5%8C%96%E6%B5%8B%E8%AF%95"><span class="toc-number">1.3.2.3.</span> <span class="toc-text">3. å‚æ•°åŒ–æµ‹è¯•</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E6%8E%A5%E5%8F%A3%E8%87%AA%E5%8A%A8%E5%8C%96%E5%9F%BA%E7%A1%80%E4%B9%8Bpytest%E6%A1%86%E6%9E%B6fixture%E3%80%81%E5%B8%B8%E7%94%A8%E6%8F%92%E4%BB%B6%E3%80%81Allure%E6%8A%A5%E5%91%8A%E3%80%81%E4%BC%81%E4%B8%9A%E7%BA%A7%E5%AE%9A%E5%88%B6-day14"><span class="toc-number">2.</span> <span class="toc-text">äºŒã€æ¥å£è‡ªåŠ¨åŒ–åŸºç¡€ä¹‹pytestæ¡†æ¶fixtureã€å¸¸ç”¨æ’ä»¶ã€AllureæŠ¥å‘Šã€ä¼ä¸šçº§å®šåˆ¶(day14)</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-pytest%E5%A4%B9%E5%85%B7fixture"><span class="toc-number">2.1.</span> <span class="toc-text">1. pytestå¤¹å…·fixture</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%88%9B%E5%BB%BAfixture"><span class="toc-number">2.1.1.</span> <span class="toc-text">1. åˆ›å»ºfixture</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E4%BD%BF%E7%94%A8fixtures"><span class="toc-number">2.1.2.</span> <span class="toc-text">2. ä½¿ç”¨fixtures</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%89%A7%E8%A1%8C%E7%BB%93%E6%9E%9C"><span class="toc-number">2.1.2.1.</span> <span class="toc-text">æ‰§è¡Œç»“æœ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AE%80%E4%BE%BF%E7%9A%84%E6%96%B9%E5%BC%8F%E4%BD%BF%E7%94%A8fixture"><span class="toc-number">2.1.2.2.</span> <span class="toc-text">ç®€ä¾¿çš„æ–¹å¼ä½¿ç”¨fixture</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-fixture%E7%9A%84%E4%BD%9C%E7%94%A8%E8%8C%83%E5%9B%B4"><span class="toc-number">2.1.3.</span> <span class="toc-text">3. fixtureçš„ä½œç”¨èŒƒå›´</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-conftest-py"><span class="toc-number">2.1.4.</span> <span class="toc-text">4. conftest.py</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-fixture%E7%9A%84%E5%85%B6%E4%BB%96%E5%86%99%E6%B3%95"><span class="toc-number">2.1.5.</span> <span class="toc-text">5. fixtureçš„å…¶ä»–å†™æ³•</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-pytest%E5%B8%B8%E7%94%A8%E6%8F%92%E4%BB%B6"><span class="toc-number">2.2.</span> <span class="toc-text">2. pytestå¸¸ç”¨æ’ä»¶</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-pytest-html"><span class="toc-number">2.2.1.</span> <span class="toc-text">1. pytest-html</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-pytest-xdist"><span class="toc-number">2.2.2.</span> <span class="toc-text">2. pytest-xdist</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-pytest-order"><span class="toc-number">2.2.3.</span> <span class="toc-text">3. pytest-order</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-pytest-rerunfailures"><span class="toc-number">2.2.4.</span> <span class="toc-text">4. pytest-rerunfailures</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-pytest-result-log"><span class="toc-number">2.2.5.</span> <span class="toc-text">5. pytest-result-log</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-allure-pytest"><span class="toc-number">2.2.6.</span> <span class="toc-text">6. allure-pytest</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E5%AE%9A%E5%88%B6%E4%BC%81%E4%B8%9A%E7%BA%A7%E7%9A%84%E6%B5%8B%E8%AF%95%E6%8A%A5%E5%91%8A"><span class="toc-number">2.3.</span> <span class="toc-text">3. å®šåˆ¶ä¼ä¸šçº§çš„æµ‹è¯•æŠ¥å‘Š</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E6%90%AD%E5%BB%BAallure%E7%8E%AF%E5%A2%83"><span class="toc-number">2.3.1.</span> <span class="toc-text">1. æ­å»ºallureç¯å¢ƒ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E7%94%9F%E6%88%90%E4%BC%81%E4%B8%9A%E7%BA%A7%E6%B5%8B%E8%AF%95%E6%8A%A5%E5%91%8A"><span class="toc-number">2.3.2.</span> <span class="toc-text">2. ç”Ÿæˆä¼ä¸šçº§æµ‹è¯•æŠ¥å‘Š</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E5%AE%9A%E5%88%B6%E6%8A%A5%E5%91%8A%E5%86%85%E5%AE%B9"><span class="toc-number">2.3.3.</span> <span class="toc-text">3. å®šåˆ¶æŠ¥å‘Šå†…å®¹</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E5%8A%9F%E8%83%BD%E5%88%86%E7%BB%84"><span class="toc-number">2.3.3.1.</span> <span class="toc-text">1. åŠŸèƒ½åˆ†ç»„</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E8%87%AA%E5%AE%9A%E4%B9%89logo"><span class="toc-number">2.3.3.2.</span> <span class="toc-text">2. è‡ªå®šä¹‰logo</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E6%8E%A5%E5%8F%A3%E8%87%AA%E5%8A%A8%E5%8C%96%E5%9F%BA%E7%A1%80%E4%B9%8BPytest%E6%A1%86%E6%9E%B6%E4%B9%8BYAML%E8%AF%A6%E8%A7%A3%E4%BB%A5%E5%8F%8AParametrize%E6%95%B0%E6%8D%AE%E9%A9%B1%E5%8A%A8-day15"><span class="toc-number">3.</span> <span class="toc-text">ä¸‰ã€æ¥å£è‡ªåŠ¨åŒ–åŸºç¡€ä¹‹Pytestæ¡†æ¶ä¹‹YAMLè¯¦è§£ä»¥åŠParametrizeæ•°æ®é©±åŠ¨(day15)</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-YAML%E8%AF%AD%E6%B3%95%E8%AF%A6%E8%A7%A3"><span class="toc-number">3.1.</span> <span class="toc-text">1. YAMLè¯­æ³•è¯¦è§£</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%BA%8F%E5%88%97%E5%8C%96%EF%BC%9APython%E8%BD%ACYAML"><span class="toc-number">3.1.1.</span> <span class="toc-text">1. åºåˆ—åŒ–ï¼šPythonè½¬YAML</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%EF%BC%9AYAML%E8%BD%ACPython"><span class="toc-number">3.1.2.</span> <span class="toc-text">2. ååºåˆ—åŒ–ï¼šYAMLè½¬Python</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-YAML%E7%89%B9%E8%89%B2"><span class="toc-number">3.1.3.</span> <span class="toc-text">3. YAMLç‰¹è‰²</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-pytest-YAML%E5%AE%9E%E7%8E%B0%E6%95%B0%E6%8D%AE%E9%A9%B1%E5%8A%A8%E6%B5%8B%E8%AF%95"><span class="toc-number">3.2.</span> <span class="toc-text">2. pytest + YAMLå®ç°æ•°æ®é©±åŠ¨æµ‹è¯•</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%8F%82%E6%95%B0%E5%8C%96%E6%B5%8B%E8%AF%95%E7%94%A8%E4%BE%8B"><span class="toc-number">3.2.1.</span> <span class="toc-text">1. å‚æ•°åŒ–æµ‹è¯•ç”¨ä¾‹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E6%95%B0%E6%8D%AE%E5%86%85%E5%AE%B9%E5%A7%94%E6%89%98%E5%88%B0%E7%8B%AC%E7%AB%8B%E6%96%87%E4%BB%B6"><span class="toc-number">3.2.2.</span> <span class="toc-text">2. æ•°æ®å†…å®¹å§”æ‰˜åˆ°ç‹¬ç«‹æ–‡ä»¶</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95%E6%A1%86%E6%9E%B6%E7%BB%93%E6%9E%84"><span class="toc-number">3.2.3.</span> <span class="toc-text">3. è‡ªåŠ¨åŒ–æµ‹è¯•æ¡†æ¶ç»“æ„</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%80%9A%E7%94%A8%E7%9A%84%E9%BB%91%E7%9B%92%E6%B5%8B%E8%AF%95%E6%A1%86%E6%9E%B6%EF%BC%9A"><span class="toc-number">3.3.</span> <span class="toc-text">é€šç”¨çš„é»‘ç›’æµ‹è¯•æ¡†æ¶ï¼š</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%9B%B8%E5%85%B3%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-number">3.3.1.</span> <span class="toc-text">ç›¸å…³é…ç½®æ–‡ä»¶</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%AE%89%E8%A3%85%E4%BE%9D%E8%B5%96"><span class="toc-number">3.3.2.</span> <span class="toc-text">1.å®‰è£…ä¾èµ–</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B0%86%E5%B8%B8%E7%94%A8%E5%8C%85%E6%89%93%E5%8C%85%E6%88%90-requirements-txt"><span class="toc-number">3.3.2.1.</span> <span class="toc-text">å°†å¸¸ç”¨åŒ…æ‰“åŒ…æˆ requirements.txt</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%90%AF%E5%8A%A8%E6%A1%86%E6%9E%B6"><span class="toc-number">3.3.3.</span> <span class="toc-text">2.å¯åŠ¨æ¡†æ¶</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E6%9F%A5%E7%9C%8B%E6%97%A5%E5%BF%97"><span class="toc-number">3.3.4.</span> <span class="toc-text">3.æŸ¥çœ‹æ—¥å¿—</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E6%9F%A5%E7%9C%8B%E6%8A%A5%E5%91%8A"><span class="toc-number">3.3.5.</span> <span class="toc-text">4.æŸ¥çœ‹æŠ¥å‘Š</span></a></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>æœ€æ–°æ–‡ç« </span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2025/07/13/%E9%9D%A2%E8%AF%95%E9%A2%98/" title="é¢è¯•é¢˜"><img src="https://cdn.jsdelivr.net/gh/SereinCease/images/blog/2024-01-28/202201191305988-30aa3e.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="é¢è¯•é¢˜"/></a><div class="content"><a class="title" href="/2025/07/13/%E9%9D%A2%E8%AF%95%E9%A2%98/" title="é¢è¯•é¢˜">é¢è¯•é¢˜</a><time datetime="2025-07-13T12:26:38.000Z" title="å‘è¡¨äº 2025-07-13 20:26:38">2025-07-13</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/07/05/web%E8%87%AA%E5%8A%A8%E5%8C%96-%E7%94%B5%E5%95%86%E5%AE%9E%E6%88%98/" title="webè‡ªåŠ¨åŒ–-ç”µå•†å®æˆ˜"><img src="https://cdn.jsdelivr.net/gh/SereinCease/images/blog/2024-01-28/202201191305988-30aa3e.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="webè‡ªåŠ¨åŒ–-ç”µå•†å®æˆ˜"/></a><div class="content"><a class="title" href="/2025/07/05/web%E8%87%AA%E5%8A%A8%E5%8C%96-%E7%94%B5%E5%95%86%E5%AE%9E%E6%88%98/" title="webè‡ªåŠ¨åŒ–-ç”µå•†å®æˆ˜">webè‡ªåŠ¨åŒ–-ç”µå•†å®æˆ˜</a><time datetime="2025-07-05T11:29:57.000Z" title="å‘è¡¨äº 2025-07-05 19:29:57">2025-07-05</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/06/30/web%E8%87%AA%E5%8A%A8%E5%8C%96%E5%9F%BA%E7%A1%80/" title="webè‡ªåŠ¨åŒ–åŸºç¡€"><img src="https://cdn.jsdelivr.net/gh/SereinCease/images/blog/2024-01-28/202201191305988-30aa3e.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="webè‡ªåŠ¨åŒ–åŸºç¡€"/></a><div class="content"><a class="title" href="/2025/06/30/web%E8%87%AA%E5%8A%A8%E5%8C%96%E5%9F%BA%E7%A1%80/" title="webè‡ªåŠ¨åŒ–åŸºç¡€">webè‡ªåŠ¨åŒ–åŸºç¡€</a><time datetime="2025-06-30T10:15:30.000Z" title="å‘è¡¨äº 2025-06-30 18:15:30">2025-06-30</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/06/30/requests%E6%A1%86%E6%9E%B6%E7%AC%94%E8%AE%B0/" title="requestsæ¡†æ¶ç¬”è®°"><img src="https://cdn.jsdelivr.net/gh/SereinCease/images/blog/2024-01-28/202201191305988-30aa3e.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="requestsæ¡†æ¶ç¬”è®°"/></a><div class="content"><a class="title" href="/2025/06/30/requests%E6%A1%86%E6%9E%B6%E7%AC%94%E8%AE%B0/" title="requestsæ¡†æ¶ç¬”è®°">requestsæ¡†æ¶ç¬”è®°</a><time datetime="2025-06-30T04:45:23.000Z" title="å‘è¡¨äº 2025-06-30 12:45:23">2025-06-30</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/06/29/%E6%8E%A5%E5%8F%A3%E8%87%AA%E5%8A%A8%E5%8C%96%E5%9F%BA%E7%A1%80%E4%B9%8Bpytest/" title="æ¥å£è‡ªåŠ¨åŒ–åŸºç¡€ä¹‹pytest"><img src="https://cdn.jsdelivr.net/gh/SereinCease/images/blog/2024-01-28/202201191305988-30aa3e.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="æ¥å£è‡ªåŠ¨åŒ–åŸºç¡€ä¹‹pytest"/></a><div class="content"><a class="title" href="/2025/06/29/%E6%8E%A5%E5%8F%A3%E8%87%AA%E5%8A%A8%E5%8C%96%E5%9F%BA%E7%A1%80%E4%B9%8Bpytest/" title="æ¥å£è‡ªåŠ¨åŒ–åŸºç¡€ä¹‹pytest">æ¥å£è‡ªåŠ¨åŒ–åŸºç¡€ä¹‹pytest</a><time datetime="2025-06-29T03:47:00.000Z" title="å‘è¡¨äº 2025-06-29 11:47:00">2025-06-29</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2025 By Sereincease</div><div class="framework-info"><span>æ¡†æ¶ </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>ä¸»é¢˜ </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">loveå­¦ä¹ </div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="é˜…è¯»æ¨¡å¼"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="æµ…è‰²å’Œæ·±è‰²æ¨¡å¼è½¬æ¢"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="å•æ å’ŒåŒæ åˆ‡æ¢"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="è®¾ç½®"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="ç›®å½•"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="ç›´è¾¾è¯„è®º"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="å›åˆ°é¡¶éƒ¨"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=4.12.0"></script><script src="/js/main.js?v=4.12.0"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.32/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"><script>(()=>{
  const getGiscusTheme = theme => {
    return theme === 'dark' ? 'dark' : 'light'
  }

  const loadGiscus = () => {
    const config = Object.assign({
      src: 'https://giscus.app/client.js',
      'data-repo': 'SereinCease/SereinCease.github.io',
      'data-repo-id': 'R_kgDOGg9uaw',
      'data-category-id': 'DIC_kwDOGg9ua84Ccvjf',
      'data-mapping': 'pathname',
      'data-theme': getGiscusTheme(document.documentElement.getAttribute('data-theme')),
      'data-reactions-enabled': '1',
      crossorigin: 'anonymous',
      async: true
    },null)

    const ele = document.createElement('script')
    for (let key in config) {
      ele.setAttribute(key, config[key])
    }
    document.getElementById('giscus-wrap').appendChild(ele)
  }

  const changeGiscusTheme = theme => {
    const sendMessage = message => {
      const iframe = document.querySelector('iframe.giscus-frame')
      if (!iframe) return
      iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app')
    }

    sendMessage({
      setConfig: {
        theme: getGiscusTheme(theme)
      }
    });
  }

  btf.addGlobalFn('themeChange', changeGiscusTheme, 'giscus')

  if ('Giscus' === 'Giscus' || !true) {
    if (true) btf.loadComment(document.getElementById('giscus-wrap'), loadGiscus)
    else loadGiscus()
  } else {
    window.loadOtherComment= loadGiscus
  }
})()</script></div><script src="https://cdn.jsdelivr.net/gh/SereinCease/SereinCease.github.io@main/js/sakura.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>